<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>vue前端框架搭建</title>
      <link href="/2024/01/23/%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/vue%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/"/>
      <url>/2024/01/23/%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/vue%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h2><h3 id="git管理"><a href="#git管理" class="headerlink" title="git管理"></a>git管理</h3><p>git init</p><p>git add .</p><p>git commit -m ‘’</p><p>根据GitHub来做就可以了</p><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p><img src="/img.png" alt="img.png"><br>我的目录结构<br><img src="/img_2.png" alt="img_2.png"></p><h3 id="环境空间的配置"><a href="#环境空间的配置" class="headerlink" title="环境空间的配置"></a>环境空间的配置</h3><h4 id="env-development"><a href="#env-development" class="headerlink" title=".env.development"></a>.env.development</h4><h4 id="env-production"><a href="#env-production" class="headerlink" title=".env.production"></a>.env.production</h4><h4 id="env-test"><a href="#env-test" class="headerlink" title=".env.test"></a>.env.test</h4><h4 id="新增环境变量的类型声明"><a href="#新增环境变量的类型声明" class="headerlink" title="新增环境变量的类型声明"></a>新增环境变量的类型声明</h4><p>在 <code>src/env.d.ts</code>增加声明，会在import.env.meta 中会有ts的校验和提示</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ImportMetaEnv</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">VITE_BASE_URL</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ImportMeta</span> &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">env</span>: <span class="title class_">ImportMetaEnv</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="别名的设置"><a href="#别名的设置" class="headerlink" title="别名的设置"></a>别名的设置</h3><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="comment">//    别名的配置</span></span><br><span class="line"><span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;@&quot;</span>: <span class="selector-attr">[<span class="string">&quot;src&quot;</span>]</span>,</span><br><span class="line">        <span class="string">&quot;@/*&quot;</span>: <span class="selector-attr">[<span class="string">&quot;src/*&quot;</span>]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//vite.config.ts</span></span><br><span class="line"><span class="symbol">resolve:</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">    alias:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="string">&quot;@&quot;</span>:path.resolve(__dirname,<span class="string">&quot;src&quot;</span>)</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="vite-config-ts配置"><a href="#vite-config-ts配置" class="headerlink" title="vite.config.ts配置"></a>vite.config.ts配置</h3><figure class="highlight plaintext"><figcaption><span>6</span></figcaption><table><tr><td class="code"><pre><span class="line">export default defineConfig(&#123;</span><br><span class="line">    plugins: [vue()],</span><br><span class="line">    resolve:&#123;</span><br><span class="line">        alias:&#123;</span><br><span class="line">            &quot;@&quot;:path.resolve(__dirname,&quot;src&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    server:&#123;</span><br><span class="line">        port:8080,</span><br><span class="line">        //热更新</span><br><span class="line">        hmr:&#123;</span><br><span class="line">            host:&#x27;127.0.0.1&#x27;,</span><br><span class="line">            port:8080</span><br><span class="line">        &#125;,</span><br><span class="line">        //设置https代理(写接口的时候写)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ts的配置"><a href="#ts的配置" class="headerlink" title="ts的配置"></a>ts的配置</h3><h3 id="代码风格统一（eslint-prettier-husky-commitizen-commitlint）"><a href="#代码风格统一（eslint-prettier-husky-commitizen-commitlint）" class="headerlink" title="代码风格统一（eslint+prettier+husky+commitizen+commitlint）"></a>代码风格统一（eslint+prettier+husky+commitizen+commitlint）</h3><h4 id="eslintrc-js-eslintrc-json-eslintignore"><a href="#eslintrc-js-eslintrc-json-eslintignore" class="headerlink" title=".eslintrc.js&#x2F;.eslintrc.json+.eslintignore"></a>.eslintrc.js&#x2F;.eslintrc.json+.eslintignore</h4><ol><li>安装  npm install -D eslint eslint-plugin-vue</li><li>按照<a href="https://eslint.vuejs.org/user-guide/#usage">https://eslint.vuejs.org/user-guide/#usage</a>配即可</li><li>在命令行输入<br>“eslint”: “eslint . –ext .vue,.js,.jsx,.cjs,.mjs –fix –ignore-path .gitignore”,</li><li>因为eslint使用的是espree语法解析，所以要安装<br><code> @typescript-eslint/parser,</code><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i @typescript-eslint/parser -D</span><br></pre></td></tr></table></figure></li><li>一些ts额外的eslint的语法规则<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i @typescropt-eslint/eslint-plugin --save-dev</span><br></pre></td></tr></table></figure>在.eslintrc.js&#x2F;.eslintrc.json中配置<figure class="highlight plaintext"><figcaption><span>6</span></figcaption><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    root: true,</span><br><span class="line">    extends: [</span><br><span class="line">        &#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">        &#x27;eslint:recommended&#x27;,</span><br><span class="line">        &#x27;prettier&#x27;,</span><br><span class="line">        &#x27;plugin:prettier/recommended&#x27;,</span><br><span class="line">        &#x27;plugin:@/typescript-eslint/recommended&#x27;,</span><br><span class="line">    ],</span><br><span class="line">    parserOptions: &#123;</span><br><span class="line">        ecmaVersion: &#x27;latest&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>.eslintignore<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="meta"># (不需要检查的)</span></span><br><span class="line">node_modules/</span><br><span class="line">dist/</span><br><span class="line"><span class="keyword">index</span>.html</span><br></pre></td></tr></table></figure></li></ol><h4 id="代码规范prettier"><a href="#代码规范prettier" class="headerlink" title="代码规范prettier"></a>代码规范prettier</h4><ol><li>下载<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">npm i prettier eslint-config-prettier eslint-plugin-prettier -D</span><br></pre></td></tr></table></figure></li><li>配置文件 prettier.config.js或.prettierrc.js可以定义规则<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;printWidth&quot;</span><span class="punctuation">:</span> <span class="number">80</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tabWidth&quot;</span><span class="punctuation">:</span><span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;semi&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;singleQuote&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;endOfLine&quot;</span><span class="punctuation">:</span> <span class="string">&quot;auto&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;trailingComma&quot;</span><span class="punctuation">:</span> <span class="string">&quot;all&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li>在eslint中配置<br>npm install eslint-config-prettier –save-dev</li></ol><p>{<br>“extends”: [“eslint:recommended”, “plugin:prettier&#x2F;recommended”, “eslint-config-prettier”]<br>}</p><figure class="highlight plaintext"><figcaption><span>6</span></figcaption><table><tr><td class="code"><pre><span class="line">解决与prettier的冲突</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    root: true,</span><br><span class="line">    extends: [</span><br><span class="line">        &#x27;plugin:vue/vue3-essential&#x27;,</span><br><span class="line">        &#x27;eslint:recommended&#x27;,</span><br><span class="line">        &#x27;prettier&#x27;,</span><br><span class="line">        &#x27;plugin:prettier/recommended&#x27;,</span><br><span class="line">        &#x27;plugin:@/typescript-eslint/recommended&#x27;,</span><br><span class="line">        &#x27;&#x27;</span><br><span class="line">    ],</span><br><span class="line">    parserOptions: &#123;</span><br><span class="line">        ecmaVersion: &#x27;latest&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li>最后使用webstorm中的自动配置prettier来规范代码，就可以不用在package.json里面写了,在package.json填写：”format”: “prettier –write &quot;.&#x2F;**&#x2F;*.{html,vue,ts,js,json,md}&quot;“,</li></ol><h3 id="git规范"><a href="#git规范" class="headerlink" title="git规范"></a>git规范</h3><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">简介：</span><br><span class="line">1. pre-commit判断提交的代码是否符合规范</span><br><span class="line">2. commit-msg通过钩子函数，判断commit `信息` 是否符合规范</span><br><span class="line">3. pre-push执行测试，避免对以前的内容造成影响</span><br><span class="line"></span><br><span class="line">使用的工具:</span><br><span class="line">1. husky:操纵git钩子函数的工具</span><br><span class="line">2. commitlint:信息校验工具</span><br><span class="line">3. lint-staged:本地缓存代码检查工具</span><br><span class="line">4. commitizen:辅助commit信息，规范提交信息</span><br></pre></td></tr></table></figure><h4 id="配置husky-管理git钩子函数的一个工具"><a href="#配置husky-管理git钩子函数的一个工具" class="headerlink" title="配置husky(管理git钩子函数的一个工具)"></a>配置husky(管理git钩子函数的一个工具)</h4><ol><li><code>pnpm i husky lint-staged -D</code></li><li>在package.json的script中添加脚本<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;script&quot;:&#123;</span><br><span class="line">        &quot;prepare&quot;:&quot;husky install&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>当执行pnpm prepare的时候会有一个.husky目录</li><li>使用husky命令添加<code>pre-commit</code>钩子，<br><code> pnpm husky add .husky/pre-commit &quot;dlx lint-staged&quot;</code><br>这样就会在.husky目录下生成相关pre-commit的文件</li><li>在根目录创建.lintstagedrc.json文件控制检查和操作方式<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;*.&#123;js,jsx,ts,tsx&#125;&quot;: [&quot;prettier --write .&quot;, &quot;eslint  --fix&quot;],</span><br><span class="line">    &quot;*.md&quot;: [&quot;prettier --write&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id=""><a href="#" class="headerlink" title=""></a></h4><h3 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h3><p>在src&#x2F;store里面创建index.ts</p><figure class="highlight plaintext"><figcaption><span>6</span></figcaption><table><tr><td class="code"><pre><span class="line">import &#123;createPinia&#125; from &quot;pinia&quot;;</span><br><span class="line">const pinia = createPinia()</span><br><span class="line">export default pinia</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><figcaption><span>6</span></figcaption><table><tr><td class="code"><pre><span class="line">main.ts使用</span><br><span class="line">import &#123; createApp &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#x27;./style.css&#x27;</span><br><span class="line">//导入pinia</span><br><span class="line">import pinia from &quot;@/store&quot;;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">const app = createApp(App)</span><br><span class="line">app.use(pinia)</span><br><span class="line">app.mount(&#x27;#app&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>之后的使用我再明确地说，现在只是基本配置</p><h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><p>在src&#x2F;router下创建index.ts,并导出router</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter, createWebHistory, <span class="title class_">RouteRecordRaw</span>&#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes :<span class="title class_">Array</span>&lt;<span class="title class_">RouteRecordRaw</span>&gt; = [</span><br><span class="line">    </span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>:<span class="title function_">createWebHistory</span>(),</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><p>在main.ts中使用</p><figure class="highlight plaintext"><figcaption><span>6</span></figcaption><table><tr><td class="code"><pre><span class="line">import &#123; createApp &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#x27;./style.css&#x27;</span><br><span class="line">//导入pinia</span><br><span class="line">import pinia from &#x27;@/store&#x27;</span><br><span class="line">//导入router</span><br><span class="line">import router from &quot;@/router&quot;;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">const app = createApp(App)</span><br><span class="line">app.use(pinia)</span><br><span class="line">app.use(router)</span><br><span class="line">app.mount(&#x27;#app&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="配置axios"><a href="#配置axios" class="headerlink" title="配置axios"></a>配置axios</h3><p>安装</p><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i axios</span><br></pre></td></tr></table></figure><p>在src&#x2F;utils下创建http.ts<br>配置axios和请求拦截器，相应拦截器</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios, &#123;<span class="title class_">AxiosInstance</span>, <span class="title class_">AxiosResponse</span>, <span class="title class_">InternalAxiosRequestConfig</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">http</span>: <span class="title class_">AxiosInstance</span> = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">&#x27;http://www.disastar.edu.cn&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//请求拦截器</span></span><br><span class="line">http.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="keyword">function</span> (<span class="params">config:InternalAxiosRequestConfig</span>):<span class="title class_">InternalAxiosRequestConfig</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> config</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">function</span> (<span class="params">error:<span class="built_in">any</span></span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//相应拦截器</span></span><br><span class="line">http.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response:AxiosResponse</span>):<span class="title class_">AxiosResponse</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line">&#125;,<span class="keyword">function</span> (<span class="params">error:<span class="built_in">any</span></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> http</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>页面哪里有请求哪里就导入就可以了</p><h3 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h3><h4 id="导入全局的主题样式"><a href="#导入全局的主题样式" class="headerlink" title="导入全局的主题样式"></a>导入全局的主题样式</h4><p>styles&#x2F;common.scss</p><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">$themeColor: <span class="meta">#4C84FF<span class="comment">;</span></span></span><br><span class="line">$secondColor:<span class="meta">#9DCCA8<span class="comment">;</span></span></span><br><span class="line">$helpColor: <span class="meta">#e26237<span class="comment">;</span></span></span><br><span class="line">$sucColor: <span class="meta">#1dc779<span class="comment">;</span></span></span><br><span class="line">$warnColor: <span class="meta">#ffb302<span class="comment">;</span></span></span><br><span class="line">$priceColor: <span class="meta">#cf4444<span class="comment">;</span></span></span><br></pre></td></tr></table></figure><h3 id="tailwindcss的引入"><a href="#tailwindcss的引入" class="headerlink" title="tailwindcss的引入"></a>tailwindcss的引入</h3><ol><li>首先根据官网安装</li><li>使用postcss的插件</li><li><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">vite.<span class="property">config</span>.<span class="property">ts</span></span><br><span class="line"><span class="attr">postcss</span>: &#123;</span><br><span class="line"><span class="attr">plugins</span>: [<span class="title class_">PostcssPresetEnv</span>, my_pxtovw, tailwindcss, autoprefixer]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>配置tailwind.config.js<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type</span> &#123;<span class="type">import(&#x27;tailwindcss&#x27;).Config</span>&#125;**/</span></span><br><span class="line"><span class="comment">//tailwindcss的配置</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">important</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">content</span>: [<span class="string">&#x27;./index.html&#x27;</span>, <span class="string">&#x27;./src/**/*.&#123;js,ts,jsx,tsx,vue&#125;&#x27;</span>],</span><br><span class="line">    <span class="attr">plugins</span>: [],</span><br><span class="line">    <span class="attr">corePlugins</span>: &#123;</span><br><span class="line">        <span class="attr">preflight</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">theme</span>: &#123;</span><br><span class="line">        <span class="comment">// fix tailwind line-height</span></span><br><span class="line">        <span class="attr">fontSize</span>: &#123;</span><br><span class="line">            <span class="attr">xs</span>: <span class="string">&#x27;12px&#x27;</span>,</span><br><span class="line">            <span class="attr">sm</span>: <span class="string">&#x27;14px&#x27;</span>,</span><br><span class="line">            <span class="attr">base</span>: <span class="string">&#x27;16px&#x27;</span>,</span><br><span class="line">            <span class="attr">lg</span>: <span class="string">&#x27;18px&#x27;</span>,</span><br><span class="line">            <span class="attr">xl</span>: <span class="string">&#x27;20px&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;2xl&#x27;</span>: <span class="string">&#x27;24px&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;3xl&#x27;</span>: <span class="string">&#x27;30px&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;4xl&#x27;</span>: <span class="string">&#x27;36px&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;5xl&#x27;</span>: <span class="string">&#x27;48px&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;6xl&#x27;</span>: <span class="string">&#x27;60px&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;7xl&#x27;</span>: <span class="string">&#x27;72px&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//进行响应式</span></span><br><span class="line">    <span class="attr">breakpoints</span>: &#123;</span><br><span class="line">        <span class="attr">xs</span>: <span class="string">&#x27;480px&#x27;</span>, <span class="comment">// 添加自定义断点</span></span><br><span class="line">        <span class="attr">sm</span>: <span class="string">&#x27;640px&#x27;</span>,</span><br><span class="line">        <span class="attr">md</span>: <span class="string">&#x27;768px&#x27;</span>,</span><br><span class="line">        <span class="attr">lg</span>: <span class="string">&#x27;1024px&#x27;</span>,</span><br><span class="line">        <span class="attr">xl</span>: <span class="string">&#x27;1280px&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>按照我的来进行配置，官方的没有写vue，不会解析vue的，所以不会生效</li><li>引入样式tailwindcss.css<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@tailwind</span> base;</span><br><span class="line"><span class="keyword">@tailwind</span> components;</span><br><span class="line"><span class="keyword">@tailwind</span> utilities;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>在main.js引入<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./styles/scss/common.scss&#x27;</span></span><br></pre></td></tr></table></figure>这就引入完毕了</li></ol><h4 id="UI库本项目采用地是Ant-Design-Vue3"><a href="#UI库本项目采用地是Ant-Design-Vue3" class="headerlink" title="UI库本项目采用地是Ant Design Vue3"></a>UI库本项目采用地是Ant Design Vue3</h4><ol><li>安装<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line">npm install ant-<span class="built_in">design</span>-vue --<span class="keyword">save</span></span><br></pre></td></tr></table></figure></li><li>按需加载<br>先安装这个包<figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i unplugin-vue-components -D</span><br></pre></td></tr></table></figure>在vite中引入ant design vue3项目，没有使用vue4的因为之前用发现样式丢失了<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span></span><br><span class="line"><span class="comment">//自动引入ant design vue3</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/dist/vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AntDesignVueResolver</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-components/dist/resolvers&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="title function_">vue</span>(),</span><br><span class="line">        <span class="comment">//自动引入ant design vue3</span></span><br><span class="line">        <span class="title class_">Components</span>(&#123;</span><br><span class="line">            <span class="attr">resolvers</span>: [<span class="title class_">AntDesignVueResolver</span>()],</span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">resolve</span>: &#123;</span><br><span class="line">        <span class="attr">alias</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;@&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">server</span>: &#123;</span><br><span class="line">        <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">        <span class="comment">//热更新</span></span><br><span class="line">        <span class="attr">hmr</span>: &#123;</span><br><span class="line">            <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">            <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//设置https代理(写接口的时候写)</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="出现的问题"><a href="#出现的问题" class="headerlink" title="出现的问题"></a>出现的问题</h2><p>1.<img src="/img_1.png" alt="img_1.png"><br>因为vite的创建的vue3项目不支持CommonJs的模块<br>2. 出现了ts无法识别vue后缀文件解决办法,在src或者根目录添加env.d.ts对它进行声明文件</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;*.vue&quot;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; <span class="title class_">DefineComponent</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">component</span>: <span class="title class_">DefineComponent</span>&lt;&#123;&#125;, &#123;&#125;, <span class="built_in">any</span>&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> component</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="响应式适配"><a href="#响应式适配" class="headerlink" title="响应式适配"></a>响应式适配</h2><ol><li>npm install postcss-px-to-viewport –save-dev</li><li>vite里面添加配置项<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">import pxtovw from &#x27;postcss-px-to-viewport&#x27;</span><br><span class="line">const my_pxtovw = pxtovw(&#123;</span><br><span class="line">    unitToConvert: &#x27;px&#x27;, //需要转换的单位，默认为&quot;px&quot;</span><br><span class="line">    viewportWidth: 1440,</span><br><span class="line">    unitPrecision: 6, // 指定`px`转换为视窗单位值的小数位数（很多时候无法整除）</span><br><span class="line">    propList: [&#x27;*&#x27;], // 能转化为vw的属性列表</span><br><span class="line">    viewportUnit: &#x27;vw&#x27;, // 指定需要转换成的视窗单位，建议使用vw</span><br><span class="line">    fontViewportUnit: &#x27;vw&#x27;, //字体使用的视口单位</span><br><span class="line">    selectorBlackList: [&#x27;.ignore-&#x27;, &#x27;.hairlines&#x27;, &#x27;wrap&#x27;, &#x27;.no_change_px&#x27;], //指定不转换为视窗单位的类，可以自定义，可以无限添加,建议定义一至两个通用的类名</span><br><span class="line">    minPixelValue: 1, // 小于或等于`1px`不转换为视窗单位，你也可以设置为你想要的值</span><br><span class="line">    mediaQuery: true, // 允许在媒体查询中转换`px`</span><br><span class="line">    replace: true, //是否直接更换属性值，而不添加备用属性</span><br><span class="line">    exclude: [/node_modules/], //忽略某些文件夹下的文件或特定文件，例如 &#x27;node_modules&#x27; 下的文件</span><br><span class="line">    landscape: false, //是否添加根据 landscapeWidth 生成的媒体查询条件 @media (orientation: landscape)</span><br><span class="line">    // landscapeUnit: &#x27;vw&#x27;, //横屏时使用的单位</span><br><span class="line">    // landscapeWidth: 1334, //横屏时使用的视口宽度</span><br><span class="line">&#125;)</span><br><span class="line">&#123;</span><br><span class="line">    css: &#123;</span><br><span class="line">        preprocessorOptions: &#123;</span><br><span class="line">            scss: &#123;</span><br><span class="line">                additionalData: `@use &quot;@/styles/var.scss&quot; as *; `,</span><br><span class="line">            &#125;</span><br><span class="line">        ,</span><br><span class="line">        &#125;</span><br><span class="line">    ,</span><br><span class="line">        postcss: &#123;</span><br><span class="line">            plugins: [PostcssPresetEnv, my_pxtovw],</span><br><span class="line">        &#125;</span><br><span class="line">    ,</span><br><span class="line">    &#125;</span><br><span class="line">,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h2 id="写代码的一些不会的点"><a href="#写代码的一些不会的点" class="headerlink" title="写代码的一些不会的点"></a>写代码的一些不会的点</h2><ol><li>user-select:none是不能选中文本</li><li>ts类型检查<br>开发环境<br>要下载这个插件</li></ol><pre><code>import checker from &#39;vite-plugin-checker&#39;; plugins: [    vue(),    checker(&#123;    vueTsc: true,    &#125;),    ],</code></pre><p>生产环境的配置<br>tsc –noEmit</p>]]></content>
      
      
      <categories>
          
          <category> 开启一个新项目准备工作 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>React项目框架搭建</title>
      <link href="/2024/01/23/%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/React%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/"/>
      <url>/2024/01/23/%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E6%96%B0%E9%A1%B9%E7%9B%AE%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/React%E9%A1%B9%E7%9B%AE%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">你好呀</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 开启一个项目的准备 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>前端手动部署</title>
      <link href="/2024/01/23/%E9%83%A8%E7%BD%B2/%E5%89%8D%E7%AB%AF%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2/"/>
      <url>/2024/01/23/%E9%83%A8%E7%BD%B2/%E5%89%8D%E7%AB%AF%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 部署 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Docker</title>
      <link href="/2024/01/23/%E9%83%A8%E7%BD%B2/docker/"/>
      <url>/2024/01/23/%E9%83%A8%E7%BD%B2/docker/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 部署 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>前端自动化部署</title>
      <link href="/2024/01/23/%E9%83%A8%E7%BD%B2/%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2(github%20action%20+%20docker)/"/>
      <url>/2024/01/23/%E9%83%A8%E7%BD%B2/%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2(github%20action%20+%20docker)/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 部署 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面试02-计算机网络.md</title>
      <link href="/2023/12/09/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
      <url>/2023/12/09/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="Http常见请求头有哪些，以及作用"><a href="#Http常见请求头有哪些，以及作用" class="headerlink" title="Http常见请求头有哪些，以及作用"></a>Http常见请求头有哪些，以及作用</h1><blockquote><p>别名为:超文本传输协议</p><p>HTTP头字段，指的是超文本传输协议的请求和响应消息中的消息头部分，可以自己定义</p></blockquote><h2 id="字段"><a href="#字段" class="headerlink" title="字段"></a>字段</h2><p>Accept:能接受的回应内容类型（Content-type）</p><p>Authorization:超文本传输协议请求中的授权信息，通常为basic为开头</p><p>Cache-Control:控制缓存的行为,Cache-Control:no-cache</p><p>Content-Type:请求体的多媒体类型，Content-Type：application&#x2F;x一www-form-urlencode</p><p>User-Agent:浏览器的浏览器身份表示字符串。User-Agent:User-Agent: Mozilla&#x2F;5.0(X11;Linux x86_64; rv:12.0)<br>Gecko&#x2F;20100101 Firefox&#x2F;21.0</p><p>Origin:发起一个针对跨来源资源共享,Origin:Origin: http:&#x2F;&#x2F; <a href="http://www.example-social-network.com/">www.example-social-network.com</a></p><h2 id="强缓存和协商缓存"><a href="#强缓存和协商缓存" class="headerlink" title="强缓存和协商缓存"></a>强缓存和协商缓存</h2><p><img src="/img_6.png" alt="img_6.png"></p><h2 id="会话状态"><a href="#会话状态" class="headerlink" title="会话状态"></a>会话状态</h2><p>cookie是为了辨别用户身份</p><p>cookie的应用三个方面:</p><ol><li>会话状态管理(登录状态，购物车或其他需要记录的信息)</li><li>个性化设置</li><li>浏览器行为跟踪(跟踪分析用户行为)</li></ol><h1 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h1><blockquote><p>通过状态码来判断和分析服务器运行状态</p></blockquote><p>1:消息</p><p>2:成功</p><p>3:重定向</p><p>4:请求错误</p><p>5:服务器错误</p><h1 id="什么是HTTP，HTTP和HTTPS有什么区别"><a href="#什么是HTTP，HTTP和HTTPS有什么区别" class="headerlink" title="什么是HTTP，HTTP和HTTPS有什么区别"></a>什么是HTTP，HTTP和HTTPS有什么区别</h1><blockquote><p>HTTP:超文本传输协议，网络通信的一种规范。常被用于Web浏览器和网站服务器之间传递信息，以明文方式发送内容，不提供任何方式的数据加密</p></blockquote><p>特点:</p><ol><li>支持客户&#x2F;服务器模式</li><li>简单快速:客户端只需要传递请求方法和路径就可以了。</li><li>灵活:HTTP允许传输任何类型的数据对象，使用Content-Type标记</li><li>无连接:每次连接只处理一个请求，服务器处理完请求，并收到客户端的应答后，即断开连接</li><li>无状态:HTTP协议自身不对请求和响应之间的通信状态进行保存</li></ol><blockquote><p>HTTPS:超文本传输安全协议，通过安全套接字层(SSL)进行加密传输,相当于HTTPS &#x3D; HTTP + SSL&#x2F;TLS,通过SSL帧数来验证服务器身份，并为浏览器和服务器之间通信进行加密<br><img src="/img_7.png" alt="img_7.png"></p></blockquote><p>HTTP 和HTTPS的区别</p><ol><li>HTTP是明文的，HTTPS是经过SSL加密的</li><li>HTTPS和HTTP的连接方式不同，默认端口不一样，HTTP:80,HTTPS:443</li><li>HTTPS需要设计加密以及握手，性能不如HTTP</li><li>HTTPS需要SSL，SSL需要钱，功能越强大费用越高。</li></ol><h1 id="输入URL地址之后会发生什么"><a href="#输入URL地址之后会发生什么" class="headerlink" title="输入URL地址之后会发生什么"></a>输入URL地址之后会发生什么</h1><p>①：DNS解析域名得到IP地址</p><p>②：客户端与服务器建立连接(TCP三次握手)</p><p>③：客户端发起请求</p><p>④：服务器接收到请求根据端口号.路径等找到对应资源文件，响应源代码给客户端</p><p>⑤：客户端拿到请求到的数据(html页面的源代码)，开始解析页面以及请求资源</p><p>⑥：客户端渲染页面</p><p>⑦：web服务器断开连接(四次挥手)</p>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面试01-NodeJs</title>
      <link href="/2023/11/22/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/NodeJs/"/>
      <url>/2023/11/22/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/NodeJs/</url>
      
        <content type="html"><![CDATA[<h1 id="对Buffer的理解"><a href="#对Buffer的理解" class="headerlink" title="对Buffer的理解"></a>对Buffer的理解</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>Node应用中，处理网络协议、操作数据库、处理图片、接受上传文件等，在网络流和文件的操作中，要处理大量的二进制数据，而Buffer就是在内存中开辟一片区域，用来存放二进制数据</p><p>上面的操作中都会存放数据流动，每个数据流动的工程中，都有一个最小或最大的数据量。</p><p>如果数据到达的速度比进程消耗的速度快，那么少数早到达的数据会处于等待区等候被处理。反之，如果数据到达的速度比进程消耗的数据慢，那么早先到达的数据需要等待一定量的数据到达之后才能被处理</p><p>这里的等待区就是缓冲区(Buffer),Nodejs不能控制数据传输速度和时间，只能决定何时发送数据，如果还没到发送的时间，则将数据放在Buffer中。<br><img src="/img_8.png" alt="img_8.png"><br>我的理解:就是一个存放二进制的一个区域</p><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>创建Buffer方法</p><p>Buffer.from()</p><p>Buffer.alloc()</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>)<span class="comment">//创建一个大小为10个字节的缓冲区</span></span><br><span class="line"><span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)<span class="comment">//创建一个长度为10的Buffer，其中全部填充了值&#x27;1&#x27;的字节</span></span><br><span class="line"><span class="keyword">const</span> buffer = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer.<span class="title function_">toString</span>())</span><br></pre></td></tr></table></figure><ol><li>编码和解码不是相同的格式则会出现乱码的情况</li><li>设定的范围导致字符串被截断的时候，也会出现乱码</li></ol><h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>I&#x2F;O操作</p><p>加密解密</p><p>zlib.js(提供压缩和解压功能)</p><h1 id="对Node中Stream的理解-应用场景"><a href="#对Node中Stream的理解-应用场景" class="headerlink" title="对Node中Stream的理解?应用场景?"></a>对Node中Stream的理解?应用场景?</h1><p>流，是有顺序的，逐块读取数据、处理内容，用于顺序读取输入或写入输出</p><p>会以Buffer为单位，流分为3部分:source、dest、pipe<br><img src="/img_9.png" alt="img_9.png"><br>在NodeJs中HTTP服务模块中，request为可读流，response为可写流</p><h1 id="nodejs模块的导入与导出以及es6区别"><a href="#nodejs模块的导入与导出以及es6区别" class="headerlink" title="nodejs模块的导入与导出以及es6区别"></a>nodejs模块的导入与导出以及es6区别</h1><h2 id="node模块化导入和导出"><a href="#node模块化导入和导出" class="headerlink" title="node模块化导入和导出"></a>node模块化导入和导出</h2><p>导出的模块：两种方式<br>module.exports &#x3D; { }<br>exports.key &#x3D; value<br>两种方式的区别：<br>module.exports 导出的是一个对象 ； 一个文件中只能使用一次 ; 导入模块同样可以使用对象解构形式</p><p>exports 导出的是一个具体的值 ； 一个文件中可以出现多次 ; exports 可以导出多个模块，当我们引入模块式，会得到一个对象集合 { fun: [Function], test: [Function], num: ‘hello world’ } 可以使用对象解构的形式获取具体的模块</p><p>导入：<br>nodejs 遵循的是 CommonJs 的规范</p><p>导入模块： 统一使用 require(url) 导入模块</p><h2 id="es6模块化导入和导出"><a href="#es6模块化导入和导出" class="headerlink" title="es6模块化导入和导出"></a>es6模块化导入和导出</h2><p>重点 和 es6 的模块导入和导出区分</p><p>es6模块化：</p><ul><li>导出模块</li></ul><ol><li><p>单独导出： export let num &#x3D; 100;</p></li><li><p>整体导出：</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">const</span> num = <span class="number">100</span>;  </span><br><span class="line"> <span class="keyword">export</span> &#123;</span><br><span class="line">     fun,</span><br><span class="line">     num</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>导出默认模块</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> str;</span><br><span class="line">或者</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">导出模块可以命名别名</span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    num <span class="keyword">as</span> n,</span><br><span class="line">    fun <span class="keyword">as</span> f</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><ul><li>导入模块<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">导入普通模块 : <span class="keyword">import</span> &#123;解构&#125; <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span> </span><br><span class="line">导入默认模块  <span class="keyword">import</span> 变量名 <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span> </span><br><span class="line">两者结合：  <span class="keyword">import</span> 变量名,&#123;解构&#125; <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span> </span><br><span class="line">导入命名别名： <span class="keyword">import</span> &#123;解构 <span class="keyword">as</span> 别名&#125; <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span> </span><br><span class="line">整体导入： <span class="keyword">import</span> * <span class="keyword">as</span> 别名 <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span>  如果里边有默认模块，通过 <span class="string">`别名.default`</span> 使用 , 其他模块 <span class="string">`别名.模块名`</span> 使用</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h1 id="对中间件概念的理解，如何封装node中间件"><a href="#对中间件概念的理解，如何封装node中间件" class="headerlink" title="对中间件概念的理解，如何封装node中间件"></a>对中间件概念的理解，如何封装node中间件</h1><p><img src="/img_10.png" alt="img_10.png"><br>在实现中间件时候，单个中间件应该足够简单，职责单一，中间件的代码编写应该高效， 必要的时候通 过缓存重复获取数据。</p><p>koa本身比较简洁，但是通过中间件的机制能够实现各种所需要的功能，使得 web应用具备良好的可 拓展性和组合性 通过将公共逻辑的处理编写在中间件中，可以不用在每一个接口回调中做相同的代码编写，减少了冗杂<br>代码，过程就如装饰者模式</p><p>例如:<br><code>koa-bodyparse</code>:就是将我们的post请求和表单提交的查询字符串转化为对象并挂载在ctx.request.body上</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// my-koa-bodyparser.js</span></span><br><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">&quot;querystring&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> <span class="title function_">bodyParser</span>(<span class="params"></span>) &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line"> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="keyword">let</span> dataArr = [];</span><br><span class="line"> ctx.<span class="property">req</span>.<span class="title function_">on</span>(<span class="string">&quot;data&quot;</span>, <span class="function"><span class="params">data</span> =&gt;</span> dataArr.<span class="title function_">push</span>(data));</span><br><span class="line"> ctx.<span class="property">req</span>.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"> <span class="keyword">let</span> contentType = ctx.<span class="title function_">get</span>(<span class="string">&quot;Content-Type&quot;</span>);</span><br><span class="line"> <span class="keyword">let</span> data = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(dataArr).<span class="title function_">toString</span>();</span><br><span class="line"> <span class="keyword">if</span> (contentType === <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line"> ctx.<span class="property">request</span>.<span class="property">body</span> = querystring.<span class="title function_">parse</span>(data);</span><br><span class="line"> &#125; <span class="keyword">else</span> <span class="keyword">if</span> (contentType === <span class="string">&quot;applaction/json&quot;</span>) &#123;</span><br><span class="line">     </span><br><span class="line"> ctx.<span class="property">request</span>.<span class="property">body</span> = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="title function_">resolve</span>();</span><br><span class="line"> &#125;);</span><br><span class="line"> &#125;);</span><br><span class="line"> <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面试01-三件套篇</title>
      <link href="/2023/11/22/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/1.%E4%B8%89%E4%BB%B6%E5%A5%97/"/>
      <url>/2023/11/22/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/1.%E4%B8%89%E4%BB%B6%E5%A5%97/</url>
      
        <content type="html"><![CDATA[<h1 id="css"><a href="#css" class="headerlink" title="css"></a>css</h1><h2 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h2><ol><li>是什么<br>将所有元素放在一个矩形里，由<code>content</code>、<code>padding</code>、<code>border</code>、<code>margin</code><br>css中的盒子模型分为:W3C标准盒子模型、IE怪异模型</li><li>标准盒子模型<br>盒子宽度 &#x3D; width + padding + border + margin</li><li>怪异盒子模型<br>盒子宽度 &#x3D; width + margin</li><li>box-sizing:content-box|border-box|inherit</li></ol><h2 id="BFC（属于普通流）"><a href="#BFC（属于普通流）" class="headerlink" title="BFC（属于普通流）"></a>BFC（属于普通流）</h2><blockquote><p>块级格式化上下文，页面中的一块渲染区域，并有着一套属于自己的渲染规则</p></blockquote><p>BFC就是页面上的一个隔离的度容器，容器中的子元素不会影响到外面的元素，反之亦然，BFC目的是形成一个相对于外界完全独立的空间，让内部的子元素不会影响啊到外部元素 </p><h2 id="触发条件"><a href="#触发条件" class="headerlink" title="触发条件"></a>触发条件</h2><p>根元素</p><p>浮动元素</p><p>overflow不为visible,为auto、scroll、hidden</p><p>display为inline-block、table-cell、table-caption、flex、inline-flex</p><p>position为absolute、fixed </p><h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><h4 id="防止margin重叠"><a href="#防止margin重叠" class="headerlink" title="防止margin重叠"></a>防止margin重叠</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.wrapper</span>&#123;</span></span><br><span class="line"><span class="language-css">       <span class="comment">/*//触发bfc*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span>hehe<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>heihei<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="清除内部浮动"><a href="#清除内部浮动" class="headerlink" title="清除内部浮动"></a>清除内部浮动</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.par</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>:<span class="number">5px</span> solid red;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.child</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*触发BFC*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;par&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="自适应多栏布局"><a href="#自适应多栏布局" class="headerlink" title="自适应多栏布局"></a>自适应多栏布局</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.aside</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">    &#125; </span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.main</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*//触发BFC*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aside&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="响应式设计"><a href="#响应式设计" class="headerlink" title="响应式设计"></a>响应式设计</h2><h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h3><ol><li>媒体查询</li><li>百分比</li><li>vw&#x2F;vh</li><li>rem</li></ol><h2 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h2><blockquote><p>分为两种情况:居中元素（子元素）的宽高已知，居中元素宽高未知</p></blockquote><h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><ol><li>定位+margin:auto<br>子绝父相，定位的属性值为0，那么如果子级没有设置宽高，则会拉开和父级一样的宽高</li><li>定位+margin:负值 (不需要直到父亲的宽高，得知道子元素的宽高)<br>子绝父相，top，left为50%，transform为该子元素的一半并是一个负值。</li><li>定位+transform(不用知道子元素的宽高)<br>这个使用的transform来进行替代上面的第二个方案</li><li>table布局<br>父元素:<code>display:table-cell</code>,子元素:<code>display:inline-block</code>,利用<code>vertical:middle</code>和<code>text-align:center</code>让所有行内块元素水平垂直居中</li><li>flex<br>最常使用的</li><li>grid<br>和上面的flex一样，除了<code>display</code>不一样</li></ol><h4 id="内联元素居中对齐"><a href="#内联元素居中对齐" class="headerlink" title="内联元素居中对齐"></a>内联元素居中对齐</h4><h5 id="水平对齐"><a href="#水平对齐" class="headerlink" title="水平对齐"></a>水平对齐</h5><p>text-align:center</p><p>flex设置: display:flex;justify-content:middle;</p><h5 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h5><p>单行文本父元素确定高度:height&#x3D;&#x3D;&#x3D;line-height</p><p>多行文本父元素确定高度:display:table-cell;vertical-align:middle;</p><h4 id="块级元素居中布局"><a href="#块级元素居中布局" class="headerlink" title="块级元素居中布局"></a>块级元素居中布局</h4><h5 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h5><p>定宽:margin:0 auto</p><p>绝对定位+left:50%+margin:负自身一半</p><h5 id="垂直居中-1"><a href="#垂直居中-1" class="headerlink" title="垂直居中"></a>垂直居中</h5><p>上面的情况</p><h2 id="实现两栏布局，右侧自适应。三栏布局中间，自适应"><a href="#实现两栏布局，右侧自适应。三栏布局中间，自适应" class="headerlink" title="实现两栏布局，右侧自适应。三栏布局中间，自适应"></a>实现两栏布局，右侧自适应。三栏布局中间，自适应</h2><h3 id="两栏布局"><a href="#两栏布局" class="headerlink" title="两栏布局"></a>两栏布局</h3><p>实现思路</p><ol><li>使用float左浮左边栏</li><li>右边模块使用margin-left撑出内容块做内容展示</li><li>为父级元素添加BFC，防止下方元素飞到上方内容<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">overflow</span>: hidden; BFC</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-color</span>: gray;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">margin-left</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-color</span>: lightgray;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>flex弹性布局<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>注意的是:flex容器的一个默认属性值:align-items:stretch<br>这个属性会导致列等高的效果。为了让两个盒子高度自动:align-items:flex-start</li></ol><h3 id="三栏布局"><a href="#三栏布局" class="headerlink" title="三栏布局"></a>三栏布局</h3><ol><li>两边使用float,中间使用margin<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.wrap</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: <span class="number">#eee</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">overflow</span>: hidden; &lt;!-- BFC --&gt;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: coral;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: lightblue;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.middle</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">margin-left</span>: <span class="number">220px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: lightpink;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">margin-right</span>: <span class="number">140px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span> 左侧<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span> 右侧<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span> 中间<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>两边使用absolute,中间使用margin<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">line-height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: green;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: green;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">110px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: black;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左侧<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右侧<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>两边使用float和负margin</li><li>display:table实现<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">line-height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: table;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">table-layout</span>: fixed;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: table-cell;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: green;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: black;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span> 左边固定<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span> 中间自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span> 右边固定<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>display:table设置为表格，table-layout:fixed表示列宽自身宽度确定，不是自动计算。</li><li>flex<br>左右设置为固定宽度，中间为100%或者为flex:1</li><li>grid<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.wrap</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">grid-template-columns</span>: <span class="number">300px</span> auto <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span>,</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.middle</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: coral;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: lightblue;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.middle</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: <span class="number">#555</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左边固定 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span> 中间自适应<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右边固定 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="CSS选择器，优先级，哪些属性可以继承"><a href="#CSS选择器，优先级，哪些属性可以继承" class="headerlink" title="CSS选择器，优先级，哪些属性可以继承"></a>CSS选择器，优先级，哪些属性可以继承</h2><h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>后代选择器(#box div),子选择器(.one&gt;.one_1),相邻同胞选择器(.one+.two),群组选择器(div,p)</p><p>伪类选择器:</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">:link 选择还未访问的链接</span><br><span class="line">:visited 访问过的链接</span><br><span class="line">:hover 鼠标悬停</span><br><span class="line">:focus 选择具有焦点的</span><br><span class="line">:active 正在点的链接</span><br><span class="line">:first-child 父元素的首个子元素</span><br></pre></td></tr></table></figure><p>伪类元素选择器</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">:first-letter</span><br><span class="line">:first-line</span><br><span class="line">:before</span><br><span class="line">:after</span><br><span class="line">:nth-child(n)</span><br></pre></td></tr></table></figure><p>属性选择器</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">[attribute]</span><br><span class="line">[attribute=value]</span><br><span class="line">[attribute~=value]:选择attribute属性包含value的元素</span><br><span class="line">[attribute|=value]:选择attribute属性以value开头的元素</span><br><span class="line"></span><br><span class="line">[attribute^=value]:选择attribute属性开头为value的所有元素</span><br><span class="line">[attribute$=value]:选择attribute属性结尾的value的所有元素</span><br><span class="line">[attribute*=value:选择attribute属性包含value的所有元素]</span><br></pre></td></tr></table></figure><p>层次选择器<br>p~ul:选择前面有p元素的每个ul元素</p><h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>内联&gt;ID&gt;类选择器&gt;标签选择器</p><h3 id="继承属性"><a href="#继承属性" class="headerlink" title="继承属性"></a>继承属性</h3><p>字体系列属性,文本系列属性(text-indent,text-align,line-height,word-spacing,letter-spacing,text-transform,direction,color)</p><p>元素可见性:visibility</p><p>表格布局属性</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">caption-side:定位表格标签位置</span><br><span class="line">border-collapse:合并表格边框</span><br><span class="line">border-spacing:设置边框之间的距离</span><br><span class="line">empty-cells:单元格的边框的出现消失</span><br><span class="line">table-layout:表格宽度由什么决定</span><br></pre></td></tr></table></figure><p>列表属性</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">list-style-type:文字前面的小点点样式</span><br><span class="line">list-style-position:小点点位置</span><br><span class="line">list-style:可以通过它来进行集合</span><br></pre></td></tr></table></figure><p>光标属性:cursor</p><h2 id="CSS中，有哪些方式乐意隐藏页面元素？区别"><a href="#CSS中，有哪些方式乐意隐藏页面元素？区别" class="headerlink" title="CSS中，有哪些方式乐意隐藏页面元素？区别"></a>CSS中，有哪些方式乐意隐藏页面元素？区别</h2><ol><li>display:none;</li><li>visibility:hidden<br>不会触发重排，但会触发重绘</li><li>opacity:0<br>不会触发重排和重绘</li><li>height、weight设为0<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.hiddenBox &#123;</span><br><span class="line"> margin:0; </span><br><span class="line"> border:0;</span><br><span class="line"> padding:0;</span><br><span class="line"> height:0;</span><br><span class="line"> width:0;</span><br><span class="line"> overflow:hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>position:absolute<br>移除可视区域<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.hide&#123;</span><br><span class="line">    position:absolute;</span><br><span class="line">    top:-9999px;</span><br><span class="line">    left:-9999px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>clip-path<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.hide&#123;</span><br><span class="line">    clip-path:polygon(0px 0px ,0px 0px,0px 0px,0px 0px)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="实现单行-多行文本溢出的省略样式"><a href="#实现单行-多行文本溢出的省略样式" class="headerlink" title="实现单行 &#x2F; 多行文本溢出的省略样式"></a>实现单行 &#x2F; 多行文本溢出的省略样式</h2><p>基于单行文本溢出，基于高度截断，基于行数截断</p><h3 id="单行文本溢出"><a href="#单行文本溢出" class="headerlink" title="单行文本溢出"></a>单行文本溢出</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">white-space</span>: normal;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="多行文本溢出"><a href="#多行文本溢出" class="headerlink" title="多行文本溢出"></a>多行文本溢出</h3><h4 id="基于高度截断"><a href="#基于高度截断" class="headerlink" title="基于高度截断"></a>基于高度截断</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.demo</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">line-height</span>:<span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.demo</span><span class="selector-pseudo">::after</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">content</span>: <span class="string">&quot;...&quot;</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">        这是一段很长的话</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>一般存在英文的时候，可以设置word-break:break-all,将一个单词能够在换行时进行拆分</p><h4 id="基于行数截断"><a href="#基于行数截断" class="headerlink" title="基于行数截断"></a>基于行数截断</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">1px</span>;</span></span><br><span class="line"><span class="language-css">        -webkit-line-clamp: <span class="number">2</span>;<span class="comment">/*用来限制一个块元素显示的文本的行数*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: -webkit-box;<span class="comment">/*将对象设置为弹性伸缩盒子模型显示*/</span></span></span><br><span class="line"><span class="language-css">        -webkit-box-orient: vertical;<span class="comment">/*设置或检索伸缩盒对象的子元素的排列方式*/</span></span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    这是一些文本这是一些文本这是一些文本这是一些文本这是一些文本这是一些文本</span><br><span class="line">    这是一些文本这是一些文本这是一些文本这是一些文本这是一些文本这是一些文本</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS画一个三角形，原理是什么"><a href="#CSS画一个三角形，原理是什么" class="headerlink" title="CSS画一个三角形，原理是什么"></a>CSS画一个三角形，原理是什么</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">  border-top: 50px solid yellowgreen;</span><br><span class="line">  border-bottom: 50px solid deeppink;</span><br><span class="line">  border-left: 50px solid bisque;</span><br><span class="line">  border-right: 50px solid chocolate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>想要一个的化，就把其余的border颜色变为透明</p><h2 id="CSS实现视差滚动"><a href="#CSS实现视差滚动" class="headerlink" title="CSS实现视差滚动"></a>CSS实现视差滚动</h2><p>实现方式</p><ol><li>background-attachment</li><li>transform:translate3D</li></ol><h3 id="background-attachment"><a href="#background-attachment" class="headerlink" title="background-attachment"></a>background-attachment</h3><p>scroll</p><p>fixed</p><p>inherit</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">7</span>);</span></span><br><span class="line"><span class="language-css"> <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">line-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">font-size</span>: <span class="number">20vh</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.a-img1</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://images.pexels.com/photos/109749</span></span></span><br><span class="line"><span class="string"><span class="language-css">1/pexels-photo-1097491.jpeg</span>);</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-attachment</span>: fixed;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-position</span>: center center;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.a-img2</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://images.pexels.com/photos/243729</span></span></span><br><span class="line"><span class="string"><span class="language-css">9/pexels-photo-2437299.jpeg</span>);</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-attachment</span>: fixed;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-position</span>: center center;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.a-img3</span> &#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://images.pexels.com/photos/100541</span></span></span><br><span class="line"><span class="string"><span class="language-css">7/pexels-photo-1005417.jpeg</span>);</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-attachment</span>: fixed;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">background-position</span>: center center;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-text&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-img1&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-text&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-img2&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-text&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-img3&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;a-text&quot;</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><ol><li>transform</li><li>transition</li><li>animation<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">@keyframes rotate&#123;</span><br><span class="line"> 0%&#123;</span><br><span class="line"> transform: rotate(0deg);</span><br><span class="line"> &#125;</span><br><span class="line"> 50%&#123;</span><br><span class="line"> transform: rotate(180deg);</span><br><span class="line"> &#125;</span><br><span class="line"> 100%&#123;</span><br><span class="line"> transform: rotate(360deg);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">animation: rotate 2s;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">@keyframes rotate&#123;</span><br><span class="line"> from&#123;</span><br><span class="line"> transform: rotate(0deg);</span><br><span class="line"> &#125;</span><br><span class="line"> to&#123;</span><br><span class="line"> transform: rotate(360deg);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h2><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">display:grid</span><br><span class="line">行列</span><br><span class="line">grid-<span class="keyword">template</span>-<span class="keyword">columns</span> </span><br><span class="line">grid-<span class="keyword">template</span>-<span class="keyword">rows</span></span><br><span class="line">.<span class="keyword">wrapper</span> &#123;</span><br><span class="line"> display: grid;</span><br><span class="line"> grid-<span class="keyword">template</span>-<span class="keyword">columns</span>: repeat(<span class="number">3</span>,<span class="number">200</span>px);</span><br><span class="line"> grid-gap: <span class="number">5</span>px;</span><br><span class="line"> grid-<span class="keyword">template</span>-<span class="keyword">rows</span>:repeat(<span class="number">2</span>,<span class="number">50</span>px);</span><br><span class="line">&#125;</span><br><span class="line">grid-<span class="keyword">template</span>-<span class="keyword">columns</span>: repeat(auto-fill, <span class="number">200</span>px)</span><br><span class="line">grid-<span class="keyword">template</span>-<span class="keyword">columns</span>: <span class="number">200</span>px <span class="number">1</span>fr <span class="number">2</span>fr</span><br><span class="line">minmax(<span class="number">100</span>px, <span class="number">1</span>fr) :表示长度范围</span><br><span class="line">grid-<span class="keyword">template</span>-<span class="keyword">columns</span>: <span class="number">100</span>px auto </span><br><span class="line">间隔</span><br><span class="line">grid-<span class="keyword">row</span>-gap: <span class="number">10</span>px</span><br><span class="line">grid-<span class="keyword">column</span>-gap: <span class="number">20</span>px</span><br><span class="line">grid-gap: <span class="number">10</span>px <span class="number">20</span>px</span><br><span class="line">子元素按照一定的顺序</span><br><span class="line">grid-auto-flow:<span class="keyword">row</span>/<span class="keyword">column</span></span><br><span class="line">单元格内容的位置属性</span><br><span class="line">.container &#123;</span><br><span class="line"> justify-items: <span class="keyword">start</span> | <span class="keyword">end</span> | center | stretch;</span><br><span class="line"> align-items: <span class="keyword">start</span> | <span class="keyword">end</span> | center | stretch;</span><br><span class="line">&#125;</span><br><span class="line">整个内容区域在容器的水平和垂直位置</span><br><span class="line">.container &#123;</span><br><span class="line"> justify-content: <span class="keyword">start</span> | <span class="keyword">end</span> | center | stretch | space-around | space-be</span><br><span class="line">tween | space-evenly;</span><br><span class="line"> align-content: <span class="keyword">start</span> | <span class="keyword">end</span> | center | stretch | space-around | space-betw</span><br><span class="line">een | space-evenly; </span><br><span class="line">&#125;</span><br><span class="line">grid-<span class="keyword">column</span>-<span class="keyword">start</span>/grid-<span class="keyword">column</span>-<span class="keyword">end</span>/grid-<span class="keyword">row</span>-<span class="keyword">start</span>/grid-<span class="keyword">row</span>-<span class="keyword">end</span>属性</span><br><span class="line">&lt;style&gt;</span><br><span class="line"> #container&#123;</span><br><span class="line"> display: grid;</span><br><span class="line"> grid-<span class="keyword">template</span>-<span class="keyword">columns</span>: <span class="number">100</span>px <span class="number">100</span>px <span class="number">100</span>px;</span><br><span class="line"> grid-<span class="keyword">template</span>-<span class="keyword">rows</span>: <span class="number">100</span>px <span class="number">100</span>px <span class="number">100</span>px;</span><br><span class="line"> &#125;</span><br><span class="line"> .item<span class="number">-1</span> &#123;</span><br><span class="line"> grid-<span class="keyword">column</span>-<span class="keyword">start</span>: <span class="number">2</span>;</span><br><span class="line"> grid-<span class="keyword">column</span>-<span class="keyword">end</span>: <span class="number">4</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;container&quot;&gt;</span><br><span class="line"> &lt;div <span class="keyword">class</span>=&quot;item item-1&quot;&gt;<span class="number">1</span>&lt;/div&gt;</span><br><span class="line"> &lt;div <span class="keyword">class</span>=&quot;item item-2&quot;&gt;<span class="number">2</span>&lt;/div&gt;</span><br><span class="line"> &lt;div <span class="keyword">class</span>=&quot;item item-3&quot;&gt;<span class="number">3</span>&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">设置单元格内容的位置</span><br><span class="line">justify-self/align-self属性</span><br><span class="line">.item&#123;</span><br><span class="line">    justify-self:<span class="keyword">start</span>|<span class="keyword">end</span>|center|stretch;</span><br><span class="line">    align-self:<span class="keyword">start</span>|<span class="keyword">end</span>|center|stretch;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h2><p>order:定义项目的排列顺序，数值越小，排名越靠前</p><p>flex-grow:定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大</p><p>flex-shrink:定义项目的缩小比例，默认为1，即如果空间不足，该项目将缩小</p><p>flex-basis:定义在分配多余空间之前，项目占据的主轴空间（main size）</p><p>flex</p><p>align-self</p><h2 id="说说px-em-rem-vw-vh区别"><a href="#说说px-em-rem-vw-vh区别" class="headerlink" title="说说px&#x2F;em&#x2F;rem&#x2F;vw&#x2F;vh区别"></a>说说px&#x2F;em&#x2F;rem&#x2F;vw&#x2F;vh区别</h2><p><img src="/img_1.png" alt="img_1.png"><br>px为固定大小</p><p>em</p><ol><li>值不是固定的</li><li>em继承成父级元素的字体</li><li>如果不指定字体的大小，会相对于浏览器来设置(16px<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;big&quot;</span>&gt;</span></span><br><span class="line"> 14px=1.4rem<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;small&quot;</span>&gt;</span> 12px=1.2rem<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-tag">html</span> &#123;<span class="attribute">font-size</span>: <span class="number">10px</span>; &#125; <span class="comment">/* 16px*62.5%=10px */</span> </span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.big</span>&#123;<span class="attribute">font-size</span>: <span class="number">1.4rem</span>&#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.small</span>&#123;<span class="attribute">font-size</span>: <span class="number">1.2rem</span>&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>rem：相对的是HTML根元素<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">html &#123;font-size: 62.5%; &#125; /* 16px*62.5%=10px */</span><br></pre></td></tr></table></figure>vh&#x2F;vw:视口大小</li><li>对于普通定位元素就是我们理解的父元素</li><li>对于position:absolute的元素是相对于已定位的父元素</li><li>position:fixed,相对于ViewPort</li></ol><h2 id="让Chrome支持小于12px的字体？以及的区别？"><a href="#让Chrome支持小于12px的字体？以及的区别？" class="headerlink" title="让Chrome支持小于12px的字体？以及的区别？"></a>让Chrome支持小于12px的字体？以及的区别？</h2><ol><li>Zoom<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.span1</span>&#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css"> zoom: <span class="number">0.8</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.span2</span>&#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;span1&quot;</span>&gt;</span> 10px<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;span2&quot;</span>&gt;</span> 12px<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>-webkit-transform:scale()</li></ol><p>只对可以定义宽高的元素生效</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.span1</span>&#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css"> -webkit-<span class="attribute">transform</span>:<span class="built_in">scale</span>(<span class="number">0.8</span>);</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"> <span class="selector-class">.span2</span>&#123;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css"> <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css"> &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;span1&quot;</span>&gt;</span> 10px<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;span2&quot;</span>&gt;</span> 12px<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>-webkit-text-size-adjust:none|percentage|auto</p><h2 id="Css预编语言的理解？有哪些区别？"><a href="#Css预编语言的理解？有哪些区别？" class="headerlink" title="Css预编语言的理解？有哪些区别？"></a>Css预编语言的理解？有哪些区别？</h2><p>Css预处理器</p><p>拓展了Css语言，增加了变量、继承、逻辑判断、函数定义和运算、条件语句等功能，是Css的超集</p><p>sass&#x2F;less&#x2F;stylus</p><p>功能</p><ol><li>变量<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--less中的--&gt;</span></span><br><span class="line">@red:#c00;</span><br><span class="line">strong&#123;</span><br><span class="line"> color:@red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">&lt;!--sass中的--&gt;</span></span><br><span class="line">$red:#c00;</span><br><span class="line">strong&#123;</span><br><span class="line"> color:$red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>注意:最好不要定义重复的变量</li><li>嵌套<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--less中的--&gt;</span></span><br><span class="line">.box&#123;</span><br><span class="line"> .inner&#123;</span><br><span class="line">  color:#f00;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">&lt;!--sass中的--&gt;</span></span><br><span class="line">.box&#123;</span><br><span class="line"> .inner&#123;</span><br><span class="line">  color:#f00;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--less中的--&gt;</span></span><br><span class="line">.border-radius&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>作用域</li><li>代码混入<blockquote><p>将一部分样式抽离出来，作为单独定义的模块，被很多选择器重复使用</p></blockquote><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.alert</span> &#123;</span><br><span class="line"> <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>(<span class="variable">@color</span>: red) &#123;</span><br><span class="line"> <span class="attribute">font-size</span>: <span class="number">1.2em</span>;</span><br><span class="line"> <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.heads-up</span> &#123;</span><br><span class="line"> <span class="selector-class">.alert</span>;</span><br><span class="line"> <span class="selector-class">.highlight</span>(red);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编译后</span></span><br><span class="line"><span class="selector-class">.alert</span> &#123;</span><br><span class="line"> <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.heads-up</span> &#123;</span><br><span class="line"> <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line"> <span class="attribute">font-size</span>: <span class="number">1.2em</span>;</span><br><span class="line"> <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>sass<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> large-text &#123;</span><br><span class="line"> <span class="attribute">font</span>: &#123;</span><br><span class="line"> family: Arial;</span><br><span class="line"> size: <span class="number">20px</span>;</span><br><span class="line"> weight: bold;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page-title</span> &#123;</span><br><span class="line"> <span class="keyword">@include</span> large-text;</span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line"> <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>代码模块化<figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./common&#x27;</span>;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./github-markdown&#x27;</span>;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./mixin&#x27;</span>;</span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./variables&#x27;</span>;</span><br></pre></td></tr></table></figure></li></ol><h2 id="优化css"><a href="#优化css" class="headerlink" title="优化css"></a>优化css</h2><ol><li>内联首屏关键CSS</li><li>异步加载CSS</li><li>资源压缩:通过打包工具，压缩css代码</li><li>合理使用选择器<br>注意:不要嵌套太深，使用id选择器就没必要进行嵌套，通配符和属性选择器效率最低减少使用</li><li>减少使用昂贵的属性</li><li>不要使用@import</li><li>其他<br>减少重排，以及减少不必要的重绘</li></ol><p>小的icon图片转化为base64编码</p><p>CSS3动画或过渡尽量使用transform和opacity来实现</p><p>精灵图</p><p>避免对属性的反复重写</p><h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>基本数据类型<br>Number,String,Boolean,Null,Undefined,Symbol</p><p>Number:八进制(0开头),十六进制(0x开头),科学计数法</p><p>Undefined:声明了变量但未对其初始化</p><p>typeof null &#x3D;&#x3D; ‘object’</p><p>Symbol:符号实例是唯一、不可变的</p><p>引用数据类型<br>Array,Object,Function</p><p>Object</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;Nicholas&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">29</span>,</span><br><span class="line">    <span class="number">5</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Array</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = []</span><br></pre></td></tr></table></figure><p>Function</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1,num2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sum1 = <span class="keyword">function</span> (<span class="params">num1,num2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="title function_">sum2</span> = (<span class="params">num1,num2</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其他的引用类型:Date、RegExp、Map、Set</p><h3 id="存储区别"><a href="#存储区别" class="headerlink" title="存储区别"></a>存储区别</h3><p>基本数据类型存储在栈，引用数据类型存储在（引用类型对应的值）堆中，这个引用地址存放在栈中，地址储存在栈中。</p><p>赋值变量时的不同:</p><ol><li>简单类型赋值:生成相同的值，两个对象对应不同的地址</li><li>引用类型赋值:保存对象的内存赋值给另一个变量。</li></ol><h2 id="DOM常见的操作有哪些"><a href="#DOM常见的操作有哪些" class="headerlink" title="DOM常见的操作有哪些"></a>DOM常见的操作有哪些</h2><blockquote><p>DOM，创建节点，查询节点，更新节点，删除节点，添加节点<br>div、p元素节点，content文本节点，title属性节点，style样式节点</p></blockquote><h3 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h3><p>createElement、createTextNode、createDocumentFragment、createAttribute</p><h3 id="获取节点"><a href="#获取节点" class="headerlink" title="获取节点"></a>获取节点</h3><p>每个Dom元素还有parentNode、childNodes、firstChild、lastChild、nextSibling、previousSibling等属性</p><h3 id="更新节点"><a href="#更新节点" class="headerlink" title="更新节点"></a>更新节点</h3><p>innerHtml、innerText、textContent、style</p><h3 id="添加节点-这个要知道"><a href="#添加节点-这个要知道" class="headerlink" title="添加节点(这个要知道)"></a>添加节点(这个要知道)</h3><p>appendChild、insertBefore(newElement,referenceElement):把子节点插入到指定位置,子节点会插入到referenceElement之前、setAttribute</p><h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><p>removeChild:拿到父节点，调用这个removeChild方法把它删掉</p><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><blockquote><p>BOM浏览器对象模型，作用和浏览器做一些交互效果<br>window:浏览器窗口对象，navigator:浏览器对象，screen:屏幕对象，location:地址栏对象，history:历史记录对象</p></blockquote><h3 id="window"><a href="#window" class="headerlink" title="window"></a>window</h3><p>窗口的控制</p><p>moveBy(x,y):从当前位置水平移动，垂直移动</p><p>moveTo(x,y):移动到相对于屏幕左上角的x,y坐标</p><p>resizeBy(width,height):以像素为单位，改变窗口的大小</p><p>resizeTo(w,h):窗体宽度调整为w,高度h</p><p>scrollBy(x,y):滚动窗口，x,y为像素，将横向滚动条移动到相对于窗口宽度的x个像素位置</p><p>scrollTo(x,y):滚动窗口，x,y,左移动x个像素，下移动y个像素</p><p>window.open(url)</p><p>window.close()</p><h3 id="location"><a href="#location" class="headerlink" title="location"></a>location</h3><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//</span>foouser:barpassword@www.wrox.com:<span class="number">80</span><span class="regexp">/WileyCDA/</span>?q=javascript<span class="comment">#contents</span></span><br></pre></td></tr></table></figure><p>属性</p><p>hash,host,hostname,href,pathname,port,search</p><p>方法</p><p>location.reload()</p><h3 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h3><h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p>history.go()</p><p>history.back()</p><p>history.forward()</p><p>history.leng</p><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>null和undefined相等。两个都为引用类型，则比较他们是否指向同一个对象。存在NaN返回false</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> === <span class="literal">undefined</span>) <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> === <span class="title class_">NaN</span>) <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果两个操作的都是对象，比较他们是不是同一个对象，古国两个操作数都指向同一个对象，则相等操作返回true</span></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;<span class="attr">name</span>:<span class="string">&quot;xxx&quot;</span>&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="attr">name</span>:<span class="string">&quot;xxx&quot;</span>&#125;</span><br><span class="line"><span class="keyword">let</span> result1 = (obj1 == obj2 ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;&#x3D;</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> === <span class="literal">undefined</span>)<span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D; 和 &#x3D;&#x3D;&#x3D; ，最好使用&#x3D;&#x3D;&#x3D;</p><h2 id="typeof-和instanceof"><a href="#typeof-和instanceof" class="headerlink" title="typeof 和instanceof"></a>typeof 和instanceof</h2><p>typeof返回字符串，instanceof返回布尔值</p><p>typeof null 为object</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// instanceof 实现原理</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myInstanceof</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">    <span class="comment">// typeof false</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> left !== <span class="string">&#x27;object&#x27;</span> || left === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// getProtypeOf Object API</span></span><br><span class="line">    <span class="keyword">let</span> proto = <span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(left);</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(proto === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(proto === right.<span class="property"><span class="keyword">prototype</span></span>) <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">// tru</span></span><br><span class="line">        e</span><br><span class="line">        proto = <span class="title class_">Object</span>.<span class="title function_">getPrototypeof</span>(proto);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h2><blockquote><p>每个对象都有自己的原型对象<br><img src="/img_2.png" alt="img_2.png"><br><img src="/img_3.png" alt="img_3.png"><br><img src="/img_4.png" alt="img_4.png"><br><img src="/img_5.png" alt="img_5.png"></p></blockquote><h2 id="作用域链的理解"><a href="#作用域链的理解" class="headerlink" title="作用域链的理解"></a>作用域链的理解</h2><p>变量和函数生效的区域或集合</p><p>作用域链分为:全局作用域链，局部作用域链，块级作用域链</p><p>在一个最近的作用域中找不到，就会往上找</p><h2 id="this对象理解"><a href="#this对象理解" class="headerlink" title="this对象理解"></a>this对象理解</h2><p>分类:</p><ol><li>默认绑定</li><li>隐式绑定</li><li>new绑定</li><li>显示绑定</li></ol><p>优先级:new&gt;显示&gt;隐式&gt;默认</p><h3 id="默认绑定"><a href="#默认绑定" class="headerlink" title="默认绑定"></a>默认绑定</h3><p>非严格模式下绑定的为window，严格模式下绑定的为undefined</p><h3 id="隐式绑定"><a href="#隐式绑定" class="headerlink" title="隐式绑定"></a>隐式绑定</h3><p>函数还可以作为某个对象的方法调用，这时this指向这个上级对象</p><h3 id="new绑定"><a href="#new绑定" class="headerlink" title="new绑定"></a>new绑定</h3><p>通过new关键字生成一个实例对象，此时this指向这个实例对象。</p><p>通过构建函数new关键字生成一个实例对象，此时this指向这个实例对象。</p><p>一些特殊情况:<br>new 过程遇到return一个对象，此时this指向返回的对象。<br>返回简单类型的时候，this指向实例对象。<br>返回null的时候，this仍然指向实例对象（虽然null为对象）</p><h3 id="显示修改"><a href="#显示修改" class="headerlink" title="显示修改"></a>显示修改</h3><p>apply()、call()、bind()</p><h2 id="闭包的理解-闭包的使用场景"><a href="#闭包的理解-闭包的使用场景" class="headerlink" title="闭包的理解,闭包的使用场景"></a>闭包的理解,闭包的使用场景</h2><blockquote><p>内层函数访问外层函数作用域</p></blockquote><p>注意:不是在特定的任务中，使用闭包不明智，因为会造成内存泄露，处理速度也有负面影响</p><h3 id="应用场景-1"><a href="#应用场景-1" class="headerlink" title="应用场景"></a>应用场景</h3><ol><li>创建私有变量</li><li>延长变量的生命周期</li></ol><h4 id="柯里化函数"><a href="#柯里化函数" class="headerlink" title="柯里化函数"></a>柯里化函数</h4><h4 id="模拟私有方法"><a href="#模拟私有方法" class="headerlink" title="模拟私有方法"></a>模拟私有方法</h4><h2 id="JavaScript中的字符串常用方法"><a href="#JavaScript中的字符串常用方法" class="headerlink" title="JavaScript中的字符串常用方法"></a>JavaScript中的字符串常用方法</h2><h3 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h3><p>增:<br>+,<code>$&#123;&#125;</code>,concat</p><p>删:<br>slice(),substr(),substring()</p><p>改:<br>trim()、trimLeft()、trimRight()、repeat()、toLowerCase()、toUpperCase()</p><p>查:<br>charAt()、indexOf()、startWith()、includes()</p><h3 id="转换方法"><a href="#转换方法" class="headerlink" title="转换方法"></a>转换方法</h3><p>split(“分隔符”):字符串&#x3D;&gt;数组</p><p>match()、search()、replace()</p><p>xxx.match(正则),xxx.search(正则):找到返回索引,没有返回-1,xxx.replace(‘匹配的内容’,’替换的内容’)</p><h2 id="数组的常用方法"><a href="#数组的常用方法" class="headerlink" title="数组的常用方法"></a>数组的常用方法</h2><p>增:<br>push()、unshift()、concat():创建新的数组，不改变原数组 、splice():传入三个参数开始位置，0(要删除的元素数量)、插入的元素，改变原数组，返回空数组</p><p>删:<br>pop()、shift()、splice()、slice():不会改变原数组</p><p>改:<br>splice()</p><p>查:<br>includes()、indexOf()、find()</p><p>排序:<br>reserve()、sort():接受一个比较函数</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compare</span>(<span class="params">value1, value2</span>) &#123;</span><br><span class="line"> <span class="keyword">if</span> (value1 &lt; value2) &#123;</span><br><span class="line"> <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"> &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value1 &gt; value2) &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> values = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>];</span><br><span class="line">values.<span class="title function_">sort</span>(compare);</span><br><span class="line"><span class="title function_">alert</span>(values); <span class="comment">// 0,1,5,10,15</span></span><br></pre></td></tr></table></figure><p>转换:数组转化为字符串<br>join()</p><p>迭代方法:<br>some()、every()、filter()、map():映射、forEach()</p><h2 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h2><blockquote><p>在JavaScript是一门单线程语言,为了不阻塞，采用的是单线程非阻塞方法</p></blockquote><p>JS中，所有任务分为:同步任务和异步任务，放在不同的区域，同步放在主线程，异步放在任务队列中，当主线程只想完成，看任务队列是否有完成的</p><h3 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h3><p>异步任务又分为:微任务和红任务</p><p>常见的微任务:Promise.then、process.nextTick、MutaionObserver、使用Proxy对象替代</p><p>异步任务:耗时间的任务，如ajax、定时器、文件读取、网络请求、DOM操作、UI渲染</p><p>执行流程:<br>当执行一个红任务，如果遇到微任务把微任务放到微任务的事件队列中，当前宏任务执行完成后，会查看微任务的事件队列，然后将里面的所有微任务执行完。</p><h3 id="async与await"><a href="#async与await" class="headerlink" title="async与await"></a>async与await</h3><p>async为异步，await为等待异步方法执行，await后面是一个Promise对象，返回该对象的值</p><p>await就是将异步转化为同步，会阻塞后面代码</p><h2 id="本地存储方式"><a href="#本地存储方式" class="headerlink" title="本地存储方式"></a>本地存储方式</h2><p>localStorage、sessionStorage、cookie</p><p>应用场景:<br>cookie(标记用户与跟踪用户行为)、localStorage(长期保存在本地的数据)、sessionStorage(敏感账号一次性登录)、indexedDB(存储大量数据、在线文档给保存编辑历史)</p><h1 id="ES6新特性"><a href="#ES6新特性" class="headerlink" title="ES6新特性"></a>ES6新特性</h1><h2 id="引入了let、const，说说他们与var区别"><a href="#引入了let、const，说说他们与var区别" class="headerlink" title="引入了let、const，说说他们与var区别"></a>引入了let、const，说说他们与var区别</h2><p>区别:</p><ol><li>变量提升</li><li>暂时性死局:let和const有暂时性死局</li><li>块级作用域:let和const有</li><li>重复声明:var和let</li><li>修改生命的变量</li></ol><h2 id="拓展符"><a href="#拓展符" class="headerlink" title="拓展符"></a>拓展符</h2><p>是浅拷贝，没有Iterator接口的对象，使用拓展符会报错</p><h2 id="新增方法"><a href="#新增方法" class="headerlink" title="新增方法"></a>新增方法</h2><h3 id="构造函数新增的方法"><a href="#构造函数新增的方法" class="headerlink" title="构造函数新增的方法"></a>构造函数新增的方法</h3><p>Array.from()、Array.of():将他们转化为真正的数组</p><p>数组.copyWithin():target(必须，从该位置开始替换),start,end</p><p>find()、findIndex()、fill()</p><p>fill():</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">3</span>).<span class="title function_">fill</span>(<span class="number">7</span>)</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">fill</span>(<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>entries()、keys()、values()</p><p>includes()</p><p>flat()、flatMap():将数组扁平化处理，返回一个新数组，对原数组没有影响</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 相当于[[2, 4], [3, 6], [4, 8]].flat()</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].<span class="title function_">flatMap</span>(<span class="function">(<span class="params">x</span>) =&gt;</span> [x, x * <span class="number">2</span>])</span><br><span class="line"><span class="comment">// [2, 4, 3, 6, 4, 8]</span></span><br></pre></td></tr></table></figure><h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><h2 id="模块的导出和引入"><a href="#模块的导出和引入" class="headerlink" title="模块的导出和引入"></a>模块的导出和引入</h2><h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><h2 id="异步的解决方案"><a href="#异步的解决方案" class="headerlink" title="异步的解决方案"></a>异步的解决方案</h2><h2 id="Set和Map"><a href="#Set和Map" class="headerlink" title="Set和Map"></a>Set和Map</h2>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>React</title>
      <link href="/2023/10/04/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/01react/"/>
      <url>/2023/10/04/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/01react/</url>
      
        <content type="html"><![CDATA[<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><h3 id="开发需要的依赖包"><a href="#开发需要的依赖包" class="headerlink" title="开发需要的依赖包"></a>开发需要的依赖包</h3><ol><li>react:包含react所包含的核心代码</li><li>react-dom:react渲染在不同的平所需要的核心代码</li><li>babel:将jsx –&gt; React</li></ol><h3 id="Hello-React案例"><a href="#Hello-React案例" class="headerlink" title="Hello React案例"></a>Hello React案例</h3><p>基本代码</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react@18/umd/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react-dom@18/umd/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/babel-standalone@6/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--加这个type类型:text/babel,为了能将jsx语法转化为react代码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> message = <span class="string">&#x27;Hello World&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//1.创建一个根元素</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#app&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">changeValue</span> = (<span class="params"></span>)=&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//修改数据</span></span></span><br><span class="line"><span class="language-javascript">        message = <span class="string">&#x27;Hello React&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//更新数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">rerender</span>()</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">rerender</span> = (<span class="params"></span>)=&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//2.渲染根元素（根组件）</span></span></span><br><span class="line"><span class="language-javascript">        root.<span class="title function_">render</span>((</span></span><br><span class="line"><span class="language-javascript">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;changeValue&#125;</span>&gt;</span>点击我切换数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-javascript">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-javascript">        ))</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">rerender</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>组件的开发</p><ol><li>定义一个类（类名大写，组件的名称是必须大写的，小写会被认为是HTML元素），继承自React.Component</li><li>实现当前组件的render函数<br>✓ render当中返回的jsx内容，就是之后React会帮助我们渲染的内容</li><li>依赖的数据放在类里面的构造函数里的state里面<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react@18/umd/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react-dom@18/umd/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/babel-standalone@6/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">super</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">message</span>:<span class="string">&#x27;Hello React&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;this.state.message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">  root.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span>/&gt;</span></span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>一般在es6的环境下是严格模式，当使用text&#x2F;babel也为严格模式</li></ol><p>事件的处理（一个根本问题：this问题）</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">class App extends React.Component&#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      message:&#x27;Hello React&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    //提前给需要this的方法绑定this</span><br><span class="line">    // this.changeContent = this.changeContent.bind(this)</span><br><span class="line">  &#125;</span><br><span class="line">  //方法</span><br><span class="line">  changeContent()&#123;</span><br><span class="line">    //这个函数里面进行了两步操作</span><br><span class="line">    //1.将state里面的message进行了改变2.自动进行了渲染</span><br><span class="line"></span><br><span class="line">    //this问题很重要</span><br><span class="line">    //这个this问题，这个相当于const changeContent = this.changeContent,changeContent()所以this为window/undefined</span><br><span class="line">    //所以要显示地绑定App的this const changeContent = this.changeContent.bind(this)</span><br><span class="line">    console.log(this)</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      message: &#x27;Hello World&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    // this.render()</span><br><span class="line">  &#125;</span><br><span class="line">  render()&#123;</span><br><span class="line">    return (</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;this.state.message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeContent.bind(this)&#125;</span>&gt;</span>点击我修改文本<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="JSX语法"><a href="#JSX语法" class="headerlink" title="JSX语法"></a>JSX语法</h3><blockquote><p> JSX是一种JavaScript的语法扩展（eXtension），也在很多地方称之为JavaScript XML，因为看起就是一段XML语法；<br> 它用于描述我们的UI界面，并且其完成可以和JavaScript融合在一起使用；</p></blockquote><p>Jsx语法是可以赋值给变量的，总之非常灵活</p><p>就是html标签可以给一个变量赋值，在js中使用<br>但要在script中加上 <code>type=&quot;text/babel&quot;</code>，才能解析语法:进行语法的转换</p><h4 id="jsx的使用"><a href="#jsx的使用" class="headerlink" title="jsx的使用"></a>jsx的使用</h4><h5 id="jsx的书写规范"><a href="#jsx的书写规范" class="headerlink" title="jsx的书写规范"></a>jsx的书写规范</h5><p> 书写规范 </p><ol><li>jsx结构中只能有一个根元素</li><li>jsx结构通常会包裹一个(), 将整个jsx当做一个整体, 实现换行</li><li>jsx可以是单标签, 也可以双标签, 但是单标签必须以&#x2F;&gt;结尾</li></ol><h5 id="jsx的注释"><a href="#jsx的注释" class="headerlink" title="jsx的注释"></a>jsx的注释</h5><p>{ &#x2F;* JSX的注释写法 *&#x2F; }</p><h5 id="jsx嵌入变量作为子元素"><a href="#jsx嵌入变量作为子元素" class="headerlink" title="jsx嵌入变量作为子元素"></a>jsx嵌入变量作为子元素</h5><ol><li>变量为Number,String,Array</li><li>变量为null,undefined,Boolean,显示内容为空</li></ol><p>✓ 如果希望可以显示null、undefined、Boolean，那么需要转成字符串；<br>✓ 转换的方式有很多，比如toString方法、和空字符串拼接，String(变量)等方式；<br>3. Object对象类型不能作为子元素</p><h5 id="jsx嵌入表达式"><a href="#jsx嵌入表达式" class="headerlink" title="jsx嵌入表达式"></a>jsx嵌入表达式</h5><ol><li>运算表达式</li><li>三元运算符</li><li>执行一个函数</li></ol><h5 id="jsx使用"><a href="#jsx使用" class="headerlink" title="jsx使用"></a>jsx使用</h5><h5 id="jsx绑定属性-例如：title属性"><a href="#jsx绑定属性-例如：title属性" class="headerlink" title="jsx绑定属性(例如：title属性)"></a>jsx绑定属性(例如：title属性)</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;哈哈哈&#x27;</span>,</span><br><span class="line">        <span class="attr">imgUrl</span>:<span class="string">&#x27;https://ts1.cn.mm.bing.net/th/id/R-C.95bc299c3f1f0e69b9eb1d0772b14a98?rik=W5QLhXiERW4nLQ&amp;riu=http%3a%2f%2f20178405.s21i.faiusr.com%2f2%2fABUIABACGAAgoeLO-wUo4I3o2gEw8Qs4uAg.jpg&amp;ehk=N7Bxe9nqM08w4evC2kK6yyC%2bxIWTjdd6HgXsQYPbMj0%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0&#x27;</span>,</span><br><span class="line">        <span class="attr">href</span>:<span class="string">&#x27;https:baidu.com&#x27;</span>,</span><br><span class="line">        <span class="attr">isActive</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">objStyle</span>:&#123;<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>,<span class="attr">fontSize</span>:<span class="string">&#x27;30px&#x27;</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123;title,imgUrl,href,isActive,objStyle&#125; = <span class="variable language_">this</span>.<span class="property">state</span></span><br><span class="line">      <span class="comment">//1.class绑定写法一:字符串的拼接</span></span><br><span class="line">      <span class="keyword">const</span> className = <span class="string">`abc cba <span class="subst">$&#123;isActive?<span class="string">&#x27;active&#x27;</span>:<span class="string">&#x27;&#x27;</span>&#125;</span>`</span></span><br><span class="line">      <span class="comment">//2. class绑定的写法二:将所有的class放入数组中</span></span><br><span class="line">      <span class="keyword">const</span> classList = [<span class="string">&#x27;abc&#x27;</span>,<span class="string">&#x27;bcd&#x27;</span>]</span><br><span class="line">      <span class="keyword">if</span>(isActive)classList.<span class="title function_">push</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">        <span class="comment">// 3.class绑定的写法三: 第三方库classnames -&gt; npm install classnames</span></span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">              <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;/*1.基础属性的绑定*/&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">title</span>=<span class="string">&#123;title&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;imgUrl&#125;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;/*2.绑定class属性最好使用className*/&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">&#123;className&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">&#123;classList.join(</span>&#x27; &#x27;)&#125;&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                  &#123;/*3.绑定style属性：绑定对象类型*/&#125;</span></span><br><span class="line"><span class="language-xml">                  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span>&#x27;<span class="attr">red</span>&#x27;,<span class="attr">fontSize:</span>&#x27;<span class="attr">30px</span>&#x27;&#125;&#125;&gt;</span>你好呀<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&#123;objStyle&#125;</span>&gt;</span>你好呀<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>))</span><br><span class="line">  root.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span>/&gt;</span></span>)</span><br></pre></td></tr></table></figure><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="脚手架"><a href="#脚手架" class="headerlink" title="脚手架"></a>脚手架</h3><h4 id="react事件绑定-推荐传入箭头函数"><a href="#react事件绑定-推荐传入箭头函数" class="headerlink" title="react事件绑定(推荐传入箭头函数)"></a>react事件绑定(推荐传入箭头函数)</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">              <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;/*1.bind绑定*/&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.btn1Click.bind(this)&#125;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;/*2.this绑定第二种:es6的class file*/&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.btn2Click&#125;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;/*3.传入一个箭头函数,这个重要*/&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span>=&gt;</span>this.btn3Click()&#125;&gt;按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数:&#123;this.state.counter&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="事件参数传递"><a href="#事件参数传递" class="headerlink" title="事件参数传递"></a>事件参数传递</h4><ol><li>获取event参数</li><li>获取更多参数<br>有更多参数时，我们最好的方式就是传入一个箭头函数，主动执行的事件函数，并且传入相关的其他参数；<img src="/img.png" alt="img.png"></li></ol><h4 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h4><p>◼ 常见的条件渲染的方式有哪些呢？</p><ol><li>◼ 方式一：条件判断语句<br> 适合逻辑较多的情况</li><li>◼ 方式二：三元运算符<br> 适合逻辑比较简单</li><li>◼ 方式三：与运算符&amp;&amp;<br> 适合如果条件成立，渲染某一个组件；如果条件不成立，什么内容也不渲染<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">   <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="variable language_">super</span>();</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">       <span class="attr">isReady</span>:<span class="literal">false</span>,</span><br><span class="line">       <span class="attr">friend</span>:<span class="literal">undefined</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> &#123;isReady,friend&#125; = <span class="variable language_">this</span>.<span class="property">state</span></span><br><span class="line">     <span class="keyword">let</span> showElement = <span class="literal">null</span></span><br><span class="line">     <span class="keyword">if</span>(isReady)&#123;</span><br><span class="line">       showElement = <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>你好呀<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       showElement = <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>再见<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> (</span><br><span class="line">             <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               /*if渲染*/</span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;showElement&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               &#123;/*三元运算符*/&#125;</span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;isReady?<span class="tag">&lt;<span class="name">h2</span>&gt;</span>你好呀<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>:<span class="tag">&lt;<span class="name">h2</span>&gt;</span>再见<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               &#123;/*逻辑&amp;&amp;*/&#125;</span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;friend &amp;&amp; <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;friend.name + &quot; &quot; + friend.desc&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     );</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="脚手架开发"><a href="#脚手架开发" class="headerlink" title="脚手架开发"></a>脚手架开发</h4><h5 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h5><p>一、第一种方式</p><ol><li>先全局安装脚手架工具包</li></ol><p>命令：pnpm i -g create-react-app</p><ol start="2"><li>用脚手架工具来创建项目</li></ol><p>命令：create-react-app + 项目名称</p><p>二、第二种方式<br>创建方式2<br>直接使用npx来创建项目</p><p>命令：</p><p>npx create-react-app + 项目名称</p><p>解释：</p><p>npx create-react-app 是固定命令，create-react-app 是 React 脚手架的名称</p><h5 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h5><p><img src="/img_3.png" alt="img_3.png"></p><h5 id="脚手架的webpack"><a href="#脚手架的webpack" class="headerlink" title="脚手架的webpack"></a>脚手架的webpack</h5><p>![img_4.png](img_4.</p><h4 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h4><p>如何展示列表呢？<br> 在React中，展示列表最多的方式就是使用数组的map高阶函数；</p><p>◼ 很多时候我们在展示一个数组中的数据之前，需要先对它进行一些处理：</p><p> 比如过滤掉一些内容：filter函数<br> 比如截取数组中的一部分内容：slice函数</p><h4 id="脚手架-1"><a href="#脚手架-1" class="headerlink" title="脚手架"></a>脚手架</h4><p><img src="/img_1.png" alt="img_1.png"><br>前端脚手架<br><img src="/img_2.png" alt="img_2.png"><br>使用前端脚手架创建项目</p><h3 id="组件化开发"><a href="#组件化开发" class="headerlink" title="组件化开发"></a>组件化开发</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><blockquote><p>概念和vue一样<br>组件的分类:函数组件，类组件。无状态组件，有状态组件。展示性组件，容器性组件</p></blockquote><p>类组件的要求（怎么定义前面写了）</p><blockquote><ol><li>名称大写字符开头</li><li>继承React.Component</li><li>实现render函数</li></ol></blockquote><p>函数组件<br><img src="/img_7.png" alt="img_7.png"></p><h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><p>最常用的<br><img src="/img_8.png" alt="img_8.png"></p><p><code>Constructor</code><br>如果不初始化 state 或不进行方法绑定，则不需要为 React 组件实现构造函数。<br>constructor中通常只做两件事情：</p><ol><li>通过给this.state赋值对象来初始化内部的state；</li><li>为事件绑定实例（this）；</li></ol><p><code>componentDidMount</code><br>componentDidMount()会在组件挂载后（插入 DOM 树中）立即调用。<br>componentDidMount中通常进行哪里操作呢？<br>依赖于DOM的操作可以在这里进行；</p><ol><li>在此处发送网络请求就最好的地方；（官方建议）</li><li>可以在此处添加一些订阅（会在componentWillUnmount取消订阅）；</li></ol><p><code>componentDidUpdate</code><br>componentDidUpdate()会在<code>更新后会被立即调用</code>，首次渲染不会执行此方法。<br>当组件更新后，可以在此处对 DOM 进行操作；</p><ol><li>如果你对更新前后的 props 进行了比较，也可以选择在此处进行网络请求；（例如，当 props 未发生变化时，则不会执行网络请求）。</li></ol><p><code>componentWillUnmount</code><br>componentWillUnmount()会在组件卸载及销毁之前直接调用。<br>在此方法中执行必要的清理操作；</p><ol><li>例如，清除 timer，取消网络请求或清除在componentDidMount() 中创建的订阅等；</li></ol><p>不常用的插槽<br><img src="/img_9.png" alt="img_9.png"></p><h4 id="组件之间的通信"><a href="#组件之间的通信" class="headerlink" title="组件之间的通信"></a>组件之间的通信</h4><h5 id="父传子"><a href="#父传子" class="headerlink" title="父传子"></a>父传子</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> (</span><br><span class="line">           <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;<span class="name">Header</span> <span class="attr">title</span>=<span class="string">&quot;我是头部呀&quot;</span> <span class="attr">age</span>=<span class="string">&#123;18&#125;</span> <span class="attr">height</span>=<span class="string">&#123;1.8&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;<span class="name">Main</span>&gt;</span><span class="tag">&lt;/<span class="name">Main</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;<span class="name">Footer</span>&gt;</span><span class="tag">&lt;/<span class="name">Footer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//子组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Header</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">   <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">props</span> = props;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123;title, age, height&#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line"></span><br><span class="line">              <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">h2</span>&gt;</span>展示父组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;title&#125;&#123;age&#125;&#123;height&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      );</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传递来的参数默认值</span></span><br><span class="line"><span class="title class_">Header</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">   <span class="attr">title</span>:<span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">   <span class="attr">age</span>:<span class="number">19</span>,</span><br><span class="line">   <span class="attr">height</span>:<span class="number">1.9</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Header</span>;</span><br></pre></td></tr></table></figure><p>类型验证（ts&#x2F;prop-types）’</p><p>需要的时候查文档<br><a href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html">https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html</a></p><p>当没有传递的时候希望有默认值的时候:defaultProps</p><h5 id="子传父"><a href="#子传父" class="headerlink" title="子传父"></a>子传父</h5><p>在React中同样是通过props传递消息，只是让父组件给子组件传递一个回调函数，在子组件中调用这个函数即可；</p><p>父亲给儿子传递一个函数，儿子进行调用就可以了</p><p>计时器的案例(自己去看源码)</p><h5 id="组件通信案例（tab栏切换）"><a href="#组件通信案例（tab栏切换）" class="headerlink" title="组件通信案例（tab栏切换）"></a>组件通信案例（tab栏切换）</h5><p>自行查看</p><h5 id="React中的插槽"><a href="#React中的插槽" class="headerlink" title="React中的插槽"></a>React中的插槽</h5><ol><li>组件的children元素</li><li>props属性传递React元素</li></ol><h6 id="组件的children"><a href="#组件的children" class="headerlink" title="组件的children"></a>组件的children</h6><p>每个组件都可以获取到props.children:包含组件的开始标签和结束标签</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Nav</span> <span class="keyword">from</span> <span class="string">&quot;./nav&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App2</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">button</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">Nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span>;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.module.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Nav</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;children&#125; = <span class="variable language_">this</span>.<span class="property">props</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;nav-bar&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;left&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;children[0]&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;center&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;children[1]&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;right&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;children[2]&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Nav</span>;</span><br></pre></td></tr></table></figure><h6 id="props来实现"><a href="#props来实现" class="headerlink" title="props来实现"></a>props来实现</h6><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./NavBar.css&#x27;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NavBar</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;left,center,right&#125; = <span class="variable language_">this</span>.<span class="property">props</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;nav-bar&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;left&#x27;</span>&gt;</span>&#123;left&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;center&#x27;</span>&gt;</span>&#123;center&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;right&#x27;</span>&gt;</span>&#123;right&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">NavBar</span>;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NavBar</span> <span class="keyword">from</span> <span class="string">&quot;./NavBar&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App2</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> left = <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>我是按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="keyword">const</span> center = <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="keyword">const</span> right =  <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">NavBar</span> <span class="attr">left</span>=<span class="string">&#123;left&#125;</span> <span class="attr">center</span>=<span class="string">&#123;center&#125;</span> <span class="attr">right</span>=<span class="string">&#123;right&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">NavBar</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span>;</span><br></pre></td></tr></table></figure><h5 id="非父子间的通信"><a href="#非父子间的通信" class="headerlink" title="非父子间的通信"></a>非父子间的通信</h5><h6 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h6><blockquote><p>数据共享</p></blockquote><p>相关API</p><ol><li>React.createContext<br>创建一个需要共享的Context对象</li><li>Context.Provider<ol><li>每个 Context 对象都会返回一个 Provider React 组件，它允许消费组件订阅 context 的变化：</li><li>Provider 接收一个value属性，传递给消费组件；</li><li>一个 Provider 可以和多个消费组件有对应关系；</li><li>多个 Provider 也可以嵌套使用，里层的会覆盖外层的数据；</li><li>当 Provider 的value值发生变化时，它内部的所有消费组件都会重新渲染；</li></ol></li><li>Context.Consumer<br>这里需要 函数作为子元素（function as child）这种做法；</li><li>Class.contextType<br>MyClass.contextType &#x3D; MyContext</li></ol><p>使用步骤</p><ol><li>创建上下文（Context）对象<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="comment">//设置上下文，创建Context对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ThemeContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">ThemeContext</span></span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="comment">//设置上下文，创建Context对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">UserContext</span></span><br></pre></td></tr></table></figure></li><li>第二步操作: 通过ThemeContext中Provider中value属性为后代提供数据，Context.Provider<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;./Home&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeBanner</span> <span class="keyword">from</span> <span class="string">&quot;./HomeBanner&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Profile</span> <span class="keyword">from</span> <span class="string">&quot;./Profile&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UserContext</span> <span class="keyword">from</span> <span class="string">&quot;./context/user-context&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ThemeContext</span> <span class="keyword">from</span> <span class="string">&quot;./context/theme-context&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App2</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">info</span>:&#123;</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;你好&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>:<span class="number">99</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;info&#125; = <span class="variable language_">this</span>.<span class="property">state</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">UserContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;nickname:</span>&#x27;<span class="attr">kobe</span>&#x27;,<span class="attr">age:19</span>&#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">ThemeContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;color:</span>&#x27;<span class="attr">red</span>&#x27;,<span class="attr">size:</span>&#x27;<span class="attr">30</span>&#x27;&#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">Home</span> &#123;<span class="attr">...info</span>&#125;&gt;</span><span class="tag">&lt;/<span class="name">Home</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">ThemeContext.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">UserContext.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Profile</span>&gt;</span><span class="tag">&lt;/<span class="name">Profile</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App2</span>;</span><br></pre></td></tr></table></figure></li><li>第三步操作: 设置组件的contextType为某一个Context<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">UserContext</span> <span class="keyword">from</span> <span class="string">&quot;./context/user-context&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ThemeContext</span> <span class="keyword">from</span> <span class="string">&quot;./context/theme-context&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HomeInfo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="comment">//第四步：获取数据，使用数据(这个是类组件中的写法)</span></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">UserContext.Consumer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;</span></span><br><span class="line"><span class="language-xml">                        value =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">                            return <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Info User:&#123;value.nickname&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        &#125;</span></span><br><span class="line"><span class="language-xml">                    &#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">UserContext.Consumer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">HomeInfo</span>.<span class="property">contextType</span> = <span class="title class_">ThemeContext</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">HomeInfo</span>;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">函数组件的操作</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ThemeContext</span> <span class="keyword">from</span> <span class="string">&quot;./context/theme-context&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">HomeBanner</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/*函数式组件使用Context共享数据*/&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">ThemeContext.Consumer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;</span></span><br><span class="line"><span class="language-xml">                    value =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">                        return <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Banner theme:&#123;value.color&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#125;</span></span><br><span class="line"><span class="language-xml">                &#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">ThemeContext.Consumer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">HomeBanner</span>;</span><br></pre></td></tr></table></figure></li><li>第四步操作: 获取数据, 并且使用数据</li></ol><h4 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h4><p>渲染机制</p><p>Jsx -&gt; 虚拟Dom -&gt; 真实Dom</p><p>react的更新机制</p><p>props&#x2F;state改变 -&gt; render函数重新执行 -&gt; 产生新的DOM树 -&gt; 新旧DOM树进行diff -&gt; 计算出差异进行更新 -&gt; 更新到真实DOM</p><h5 id="keys优化"><a href="#keys优化" class="headerlink" title="keys优化"></a>keys优化</h5><p>遍历列表，需要加上key</p><p>注意:</p><ol><li>key是唯一的</li><li>不要用随机数</li><li>使用index，不会做优化</li></ol><h5 id="render函数优化"><a href="#render函数优化" class="headerlink" title="render函数优化"></a>render函数优化</h5><p>当更改一个数据，组件就需要render，进行diff算法，性能会很低，所以有了解决方法</p><p>shouldComponentUpdate,接收两个参数:nextProps(修改后的props),nextState(修改后的state),它的<br>主要作用是判断props和state数据是否发生改变，来决定true还是false</p><p>返回true，就会render，返回false，不会render</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="title function_">shouldComponentUpdate</span>(<span class="params">nextProps</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">counter</span> !== nextProps.<span class="property">counter</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="PureComponent"><a href="#PureComponent" class="headerlink" title="PureComponent"></a>PureComponent</h4><p>如果要是手动的实现上面的行为，会很繁琐，react已经配置好了，再PureComponent,就是在里面弄就可以了（rpc）</p><h4 id="高阶组件memo"><a href="#高阶组件memo" class="headerlink" title="高阶组件memo"></a>高阶组件memo</h4><p>类可以通过PureComponent来实现，函数组件可以用memo来实现，在想要实现上述的效果的函数组件外面包一层memo</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; memo &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Profile</span> = <span class="title function_">memo</span>(<span class="keyword">function</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;profile render&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Profile: &#123;props.message&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Profile</span></span><br></pre></td></tr></table></figure><h4 id="不可变的数据"><a href="#不可变的数据" class="headerlink" title="不可变的数据"></a>不可变的数据</h4><p>就是说不能直接改变this.setState里面的数据，可以进行拷贝（浅拷贝）</p><h4 id="获取DOM方式refs"><a href="#获取DOM方式refs" class="headerlink" title="获取DOM方式refs"></a>获取DOM方式refs</h4><blockquote><p>通常不需要和不建议直接操作DOM原生</p></blockquote><h3 id="原理类的"><a href="#原理类的" class="headerlink" title="原理类的"></a>原理类的</h3><h4 id="为什么使用setState"><a href="#为什么使用setState" class="headerlink" title="为什么使用setState"></a>为什么使用setState</h4><h4 id="vue3和react中在数据上的区别"><a href="#vue3和react中在数据上的区别" class="headerlink" title="vue3和react中在数据上的区别"></a>vue3和react中在数据上的区别</h4><ol><li>vue3是数据劫持,通过对数据进行劫持来监听数据的变化</li><li>React中没有数据劫持,必须通过setState来告知React数据已经发生了变化；</li></ol><h4 id="React的setState是异步更新的优点"><a href="#React的setState是异步更新的优点" class="headerlink" title="React的setState是异步更新的优点"></a>React的setState是异步更新的优点</h4><p>setState设计为异步，可以显著的提升性能；</p><ol><li>如果每次调用 setState都进行一次更新，那么意味着render函数会被频繁调用，界面重新渲染，这样效率是很低的；</li></ol><p>最好的办法应该是获取到多个更新，之后进行批量更新；<br>2. 如果同步更新了state，但是还没有执行render函数，那么state和props不能保持同步；<br>state和props不能保持一致性，会在开发中产生很多的问题；</p><h4 id="setState的使用"><a href="#setState的使用" class="headerlink" title="setState的使用"></a>setState的使用</h4><p>setState接受两个参数：第二个参数是一个回调函数，这个回调函数会在更新后会执行；<br>格式如下：setState(partialState, callback)</p><h4 id="setState咋18前和后区别"><a href="#setState咋18前和后区别" class="headerlink" title="setState咋18前和后区别"></a>setState咋18前和后区别</h4><ol><li><p>前</p><p>其实分成两种情况：</p><ol><li>在组件生命周期或React合成事件中，setState是异步；</li><li>在setTimeout或者原生dom事件中，setState是同步；</li></ol></li><li><p>后</p></li></ol><p>所有的都为异步的</p><h3 id="在react中写css的方案"><a href="#在react中写css的方案" class="headerlink" title="在react中写css的方案"></a>在react中写css的方案</h3><h4 id="内联样式"><a href="#内联样式" class="headerlink" title="内联样式"></a>内联样式</h4><ol><li>style 接受一个采用小驼峰命名属性的 JavaScript 对象，，而不是 CSS 字符串；</li><li>并且可以引用state中的状态来设置相关的样式；</li></ol><p>缺点</p><ol><li>写法上都需要使用驼峰标识</li><li>某些样式没有提示</li><li>大量的样式, 代码混乱</li><li>某些样式无法编写(比如伪类&#x2F;伪元素)<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">Component</span>, <span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Index</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(props);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            titleSize :<span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">addTitleSize</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">            <span class="attr">titleSize</span>:<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">titleSize</span> +<span class="number">2</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span>=&gt;</span>this.addTitleSize()&#125;&gt;点击我增加字体大小<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&#123;&#123;fontSize:</span>`$&#123;<span class="attr">this.state.titleSize</span>&#125;<span class="attr">px</span>`,<span class="attr">color:</span>&quot;<span class="attr">red</span>&quot;&#125;&#125;&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Index</span>;</span><br></pre></td></tr></table></figure></li></ol><h4 id="单独的css文件引入"><a href="#单独的css文件引入" class="headerlink" title="单独的css文件引入"></a>单独的css文件引入</h4><p>和以前写css一样</p><p>缺点：</p><ol><li>这个css文件没有作用域，是全局生效的</li><li>样式之间会重叠</li></ol><h4 id="CSS-Module写法"><a href="#CSS-Module写法" class="headerlink" title="CSS Module写法"></a>CSS Module写法</h4><blockquote><p>css modules并不是React特有的解决方案，而是所有使用了类似于webpack配置的环境下都可以使用的。<br> 如果在其他项目中使用它，那么我们需要自己来进行配置，比如配置webpack.config.js中的modules: true等。</p></blockquote><p>好处解决了局部作用域问题</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">index<span class="selector-class">.module</span><span class="selector-class">.css</span></span><br><span class="line"><span class="selector-class">.title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:red;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">使用</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> home <span class="keyword">from</span> <span class="string">&#x27;./index.module.css&#x27;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Index</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">&#123;home.title&#125;</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&#123;home.content&#125;</span>&gt;</span>哈哈，我是内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Index</span>;</span><br></pre></td></tr></table></figure><h4 id="CSS-in-JS-写法"><a href="#CSS-in-JS-写法" class="headerlink" title="CSS in JS 写法"></a>CSS in JS 写法</h4><h5 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//这个相当于调用了foo函数，返回的是一个数组 ：[ [ &#x27;my name is &#x27;, &#x27;,age is &#x27;, &#x27;&#x27; ], &#x27;ymj&#x27;, 18 ]</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;ymj&#x27;</span></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">...arg</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo<span class="string">`my name is <span class="subst">$&#123;name&#125;</span>,age is <span class="subst">$&#123;age&#125;</span>`</span></span><br></pre></td></tr></table></figure><h5 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h5><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">css_jsx</span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1. 基本的使用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HomeWrapper</span> = styled.<span class="property">div</span><span class="string">`</span></span><br><span class="line"><span class="string">  .top&#123;</span></span><br><span class="line"><span class="string">    .banner&#123;</span></span><br><span class="line"><span class="string">      font-size: 22px;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .bottom&#123;</span></span><br><span class="line"><span class="string">    .product_list&#123;</span></span><br><span class="line"><span class="string">      .product_item1&#123;</span></span><br><span class="line"><span class="string">        color: red;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      .product_item2&#123;</span></span><br><span class="line"><span class="string">        color: pink;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      .product_item3&#123;</span></span><br><span class="line"><span class="string">        color: #61dafb;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">HomeWrapper</span>&#125; <span class="keyword">from</span> <span class="string">&quot;./homs_css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">HomeWrapper</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        我是轮播图</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&quot;product_list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;product_item1&quot;</span>&gt;</span>商品1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;product_item2&quot;</span>&gt;</span>商品2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;product_item3&quot;</span>&gt;</span>商品3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">HomeWrapper</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Home</span>;</span><br></pre></td></tr></table></figure><p>还可以进行拆分(子元素单独抽取到一个样式文件里面)</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1. 基本的使用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HomeWrapper</span> = styled.<span class="property">div</span><span class="string">`</span></span><br><span class="line"><span class="string">  .top&#123;</span></span><br><span class="line"><span class="string">    .banner&#123;</span></span><br><span class="line"><span class="string">      font-size: 22px;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">BottomWrapper</span> = styled.<span class="property">div</span><span class="string">`</span></span><br><span class="line"><span class="string">    .product_list&#123;</span></span><br><span class="line"><span class="string">      .product_item1&#123;</span></span><br><span class="line"><span class="string">        color: red;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      .product_item2&#123;</span></span><br><span class="line"><span class="string">        color: pink;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      .product_item3&#123;</span></span><br><span class="line"><span class="string">        color: #61dafb;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><h5 id="在css中使用js-props的使用"><a href="#在css中使用js-props的使用" class="headerlink" title="在css中使用js(props的使用)"></a>在css中使用js(props的使用)</h5><h6 id="使用props"><a href="#使用props" class="headerlink" title="使用props"></a>使用props</h6><p>非常方便，别的方案会很麻烦<br>外部的组件给样式组件传入值，来进行在css中使用js的变量，使用函数的形式实现</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&quot;styled-components&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1. 基本的使用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HomeWrapper</span> = styled.<span class="property">div</span><span class="string">`</span></span><br><span class="line"><span class="string">  .top&#123;</span></span><br><span class="line"><span class="string">    .banner&#123;</span></span><br><span class="line"><span class="string">      font-size: <span class="subst">$&#123;props=&gt;props.size&#125;</span>px;</span></span><br><span class="line"><span class="string">      color:<span class="subst">$&#123;props=&gt;props.color&#125;</span>;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">BottomWrapper</span>, <span class="title class_">HomeWrapper</span>&#125; <span class="keyword">from</span> <span class="string">&quot;./homs_css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">size</span>:<span class="number">30</span>,</span><br><span class="line">            <span class="attr">color</span>:<span class="string">&quot;yellow&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;color,size&#125; = <span class="variable language_">this</span>.<span class="property">state</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">HomeWrapper</span> <span class="attr">color</span>=<span class="string">&#123;color&#125;</span> <span class="attr">size</span>=<span class="string">&#123;size&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;banner&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        我是轮播图</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">BottomWrapper</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&quot;product_list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;product_item1&quot;</span>&gt;</span>商品1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;product_item2&quot;</span>&gt;</span>商品2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;product_item3&quot;</span>&gt;</span>商品3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">BottomWrapper</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">HomeWrapper</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Home</span>;</span><br></pre></td></tr></table></figure><h6 id="使用attrs给标签字符串提供属性"><a href="#使用attrs给标签字符串提供属性" class="headerlink" title="使用attrs给标签字符串提供属性"></a>使用attrs给标签字符串提供属性</h6><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1. 基本的使用</span></span><br><span class="line"><span class="comment">//如果没有传递元素的话，可以添加默认值</span></span><br><span class="line"><span class="comment">// 使用styled.div.attrs来实现</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">HomeWrapper</span> = styled.<span class="property">div</span>.<span class="title function_">attrs</span>(<span class="function"><span class="params">props</span>=&gt;</span>(&#123;</span><br><span class="line">    <span class="attr">tcolor</span>:props.<span class="property">color</span>||<span class="string">&quot;blue&quot;</span></span><br><span class="line">&#125;))<span class="string">`</span></span><br><span class="line"><span class="string">  .top&#123;</span></span><br><span class="line"><span class="string">    .banner&#123;</span></span><br><span class="line"><span class="string">      font-size: <span class="subst">$&#123;props=&gt;props.size&#125;</span>px;</span></span><br><span class="line"><span class="string">      color:<span class="subst">$&#123;props=&gt;props.tcolor&#125;</span>;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><h5 id="设置全局的样式"><a href="#设置全局的样式" class="headerlink" title="设置全局的样式"></a>设置全局的样式</h5><p>将全局的样式放在一个文件里面，需要什么的时候引入即可</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//variables.js文件中，当使用公共主题色的时候引入即可</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> primaryColor = <span class="string">&quot;#ff8822&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> secondColor = <span class="string">&quot;#ff7788&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> smallSize = <span class="string">&quot;12px&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> middleSize = <span class="string">&quot;14px&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> largeSize = <span class="string">&quot;18px&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>也可以使用主题提供</p><figure class="highlight handlebars"><table><tr><td class="code"><pre><span class="line"><span class="language-xml">ThemeProvider theme=</span><span class="template-variable">&#123;&#123;<span class="name">color:</span><span class="string">&quot;red&quot;</span>,size:<span class="string">&quot;19px&quot;</span>&#125;&#125;</span><span class="language-xml">&gt;<span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="样式的继承"><a href="#样式的继承" class="headerlink" title="样式的继承"></a>样式的继承</h5><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//样式的继承</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HYButton</span> = styled.<span class="property">button</span><span class="string">`</span></span><br><span class="line"><span class="string">  padding: 8px 30px;</span></span><br><span class="line"><span class="string">  border-radius: 5px;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HYWarnButton</span> = styled.<span class="title function_">button</span>(<span class="title class_">HYButton</span>)<span class="string">`</span></span><br><span class="line"><span class="string">  background-color:red ;</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><h4 id="动态添加class"><a href="#动态添加class" class="headerlink" title="动态添加class"></a>动态添加class</h4><p>安装一个库 classnames<br><img src="/img_10.png" alt="img_10.png"></p><h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><h3 id="js的纯函数"><a href="#js的纯函数" class="headerlink" title="js的纯函数"></a>js的纯函数</h3><blockquote><ol><li>确定的输入，一定会产生确定的输出；</li><li>函数在执行过程中，不能产生副作用；</li></ol></blockquote><p>副作用：调用了这个函数，对外部产生了一些影响（1.依赖外部的变量，修改外部的变量，修改参数或者改变外部的存储）</p><p>React中就要求我们无论是函数还是class声明一个组件，这个组件都必须像纯函数一样，<code>保护它们的props不被修改</code></p><h3 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h3><h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><p>数据的变化是通过action来进行更新，action来描述这次更新的type和content</p><p><img src="C:\Users\mm\AppData\Roaming\Typora\typora-user-images\image-20231004181316074.png" alt="image-20231004181316074"></p><h3 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h3><p>作用：将state和action联系在一起，将传入的state和action返回一个新的state</p><h4 id="创建store"><a href="#创建store" class="headerlink" title="创建store"></a>创建store</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//store/index.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; createStore &#125; = <span class="built_in">require</span>(<span class="string">&#x27;redux&#x27;</span>)</span><br><span class="line"><span class="comment">//初始化数据</span></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义reducer函数:纯函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state = initialState,action</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(action.<span class="property">type</span> === <span class="string">&#x27;change_name&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;...state,<span class="attr">name</span>:action.<span class="property">name</span>&#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(action.<span class="property">type</span> === <span class="string">&#x27;change_age&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;...state,<span class="attr">age</span>:action.<span class="property">age</span> + state.<span class="property">age</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//返回的是新的数据</span></span><br><span class="line">    <span class="keyword">return</span> state</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建的仓库</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = store</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用redux里面的数据</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="built_in">require</span>(<span class="string">&#x27;./store/index&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store.<span class="title function_">getState</span>())</span><br><span class="line"><span class="comment">//修改redux里面的数据:使用action</span></span><br><span class="line"><span class="keyword">const</span> nameAction = &#123;<span class="attr">type</span>:<span class="string">&#x27;change_name&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;kobe&#x27;</span>&#125;</span><br><span class="line">store.<span class="title function_">dispatch</span>(nameAction)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store.<span class="title function_">getState</span>())</span><br><span class="line"><span class="comment">//修改年龄</span></span><br><span class="line"><span class="keyword">const</span> ageAction = &#123;<span class="attr">type</span>:<span class="string">&#x27;change_age&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;</span><br><span class="line">store.<span class="title function_">dispatch</span>(ageAction)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store.<span class="title function_">getState</span>())</span><br></pre></td></tr></table></figure><p>代码优化</p><ol><li><p>将action生成过程放在了函数里面</p></li><li><p>将定义的函数放在了store&#x2F;actionCreators.js</p></li><li><p>actionCreators.js和reducer.js使用的字符串是一样的，所以抽取为了一个store&#x2F;constants.js</p></li><li><p>将reducer函数封装在了一个reducer.js文件中</p></li><li><p>index.js创建仓库</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//actionCreators.js</span></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="variable constant_">CHANGE_AGE</span>, <span class="variable constant_">CHANGE_NAME</span>&#125; = <span class="built_in">require</span>(<span class="string">&quot;./constant&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">changeNameAction</span> = (<span class="params">name</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">type</span>:<span class="variable constant_">CHANGE_NAME</span>,name&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addNumAction</span> = (<span class="params">age</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">type</span>:<span class="variable constant_">CHANGE_AGE</span>,age&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    changeNameAction,</span><br><span class="line">    addNumAction</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//constant.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CHANGE_NAME</span> = <span class="string">&#x27;change_name&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CHANGE_AGE</span> = <span class="string">&#x27;change_age&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="variable constant_">CHANGE_AGE</span>,</span><br><span class="line">    <span class="variable constant_">CHANGE_NAME</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="keyword">const</span> &#123;createStore&#125; = <span class="built_in">require</span>(<span class="string">&#x27;redux&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="built_in">require</span>(<span class="string">&#x27;./reducer&#x27;</span>)</span><br><span class="line"><span class="comment">//创建的仓库</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = store</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//reducer.js</span></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="variable constant_">CHANGE_NAME</span>, <span class="variable constant_">CHANGE_AGE</span>&#125; = <span class="built_in">require</span>(<span class="string">&quot;./constant&quot;</span>);</span><br><span class="line"><span class="comment">//初始化数据</span></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义reducer函数:纯函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state = initialState,action</span>)&#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.<span class="property">type</span>)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="attr">CHANGE_NAME</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123;...state,<span class="attr">name</span>:action.<span class="property">name</span>&#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="attr">CHANGE_AGE</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123;...state,<span class="attr">age</span>:action.<span class="property">age</span> + state.<span class="property">age</span>&#125;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = reducer</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用redux</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="built_in">require</span>(<span class="string">&#x27;./store/index&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123;addNumAction,changeNameAction&#125; = <span class="built_in">require</span>(<span class="string">&#x27;./store/actionCreators&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> unsubscribe = store.<span class="title function_">subscribe</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;订阅数据变化&quot;</span>,store.<span class="title function_">getState</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">changeNameAction</span>(<span class="string">&#x27;kobe&#x27;</span>))</span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">changeNameAction</span>(<span class="string">&#x27;hello&#x27;</span>))</span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">changeNameAction</span>(<span class="string">&#x27;ymj&#x27;</span>))</span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">addNumAction</span>(<span class="number">10</span>))</span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">addNumAction</span>(<span class="number">20</span>))</span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">addNumAction</span>(<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//取消订阅</span></span><br><span class="line"><span class="title function_">unsubscribe</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="redux三大原则"><a href="#redux三大原则" class="headerlink" title="redux三大原则"></a>redux三大原则</h4><ol><li><p>只有一个store</p></li><li><p>state是只读的，只能通过action来进行修改，便于集中处理</p></li><li><p>使用纯函数修改</p><p>![Screenshot_2023-10-04-19-46-43-84_846b44643ec609f](C:\Users\mm\Documents\Tencent Files\3495314473\FileRecv\MobileFile\Screenshot_2023-10-04-19-46-43-84_846b44643ec609f.jpg)</p></li></ol></li></ol><p><img src="C:\Users\mm\AppData\Roaming\Typora\typora-user-images\image-20231004195245697.png" alt="image-20231004195245697"></p><p><strong>拓展</strong></p><p>node对es6模块化的支持</p><p>在package.json中添加属性:”type”:”module”</p><p><em><strong>导入文件时，要加上js后缀</strong></em></p><h3 id="react-redux的使用"><a href="#react-redux的使用" class="headerlink" title="react-redux的使用"></a>react-redux的使用</h3><blockquote><p>它提供了Provider和connect简化了代码的书写，它封装了许多步骤。</p><p>connect将redux里面的state映射到组件里的props,dispatch也映射到props</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在组件里面的使用redux里面的内容，</span></span><br><span class="line"><span class="comment">//将仓库里的state映射出来</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapStateToProps</span> = (<span class="params">state</span>)=&gt;(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">counter</span>:state.<span class="property">counter</span>,</span><br><span class="line">        <span class="attr">banner</span>:state.<span class="property">banner</span>,</span><br><span class="line">        <span class="attr">recommend</span>:state.<span class="property">recommend</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"><span class="comment">//将dispatch映射出来</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapDispatchToProps</span> = (<span class="params">dispatch</span>)=&gt;(&#123;</span><br><span class="line">    <span class="title function_">addNumber</span>(<span class="params">num</span>)&#123;</span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="title function_">addNumberAction</span>(num))</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">descNumber</span>(<span class="params">num</span>)&#123;</span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="title function_">subNumberAction</span>(num))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">connect</span>(mapStateToProps,mapDispatchToProps)(<span class="title class_">About</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js提供是哪个store</span></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li>下载npm i react-redux</li><li>如上面的代码书写</li></ol><h4 id="异步操作"><a href="#异步操作" class="headerlink" title="异步操作"></a>异步操作</h4><blockquote><p>网络请求到的数据也属于我们状态管理的一部分，更好的一种方式应该是将其也交给redux来管理</p></blockquote><p><code>npm i redux-thunk</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//actionCreater.js</span></span><br><span class="line"><span class="comment">//请求异步数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">fetchHomeMultidataAction</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">dispatch,getState</span>)&#123;</span><br><span class="line">      axios.<span class="title function_">get</span>(<span class="string">&quot;http://123.207.32.32:8000/home/multidata&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> banner = res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">banner</span>.<span class="property">list</span></span><br><span class="line">      <span class="keyword">const</span> recommend = res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">recommend</span>.<span class="property">list</span></span><br><span class="line">        </span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="title function_">changeBannerAction</span>(banner))</span><br><span class="line">      <span class="title function_">dispatch</span>(<span class="title function_">changeRecommendAction</span>(recommend))</span><br><span class="line">    &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中dispatch一般派发的是js对象，但是可以使用react-thunk来派发函数</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//让dispatch派发函数，一般是派发的是对象</span></span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer,<span class="title function_">composeEnhancers</span>(<span class="title function_">applyMiddleware</span>(thunk)))</span><br></pre></td></tr></table></figure><h3 id="React工具（devtools）"><a href="#React工具（devtools）" class="headerlink" title="React工具（devtools）"></a>React工具（devtools）</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在导出仓库的时候使用redux-devtools</span></span><br><span class="line"><span class="keyword">import</span> &#123;applyMiddleware, compose, createStore&#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span>;</span><br><span class="line"><span class="comment">//redux-devtools</span></span><br><span class="line"><span class="keyword">const</span> composeEnhancers =  <span class="variable language_">window</span>.<span class="title function_">__REDUX_DEVTOOLS_EXTENSION_COMPOSE__</span>(&#123;<span class="attr">trace</span>: <span class="literal">true</span>&#125;) || compose;</span><br></pre></td></tr></table></figure><h3 id="Reducer的拆分"><a href="#Reducer的拆分" class="headerlink" title="Reducer的拆分"></a>Reducer的拆分</h3><blockquote><p>为什么拆分</p><p>因为每一个组件可能有自己的逻辑，业务也会很复杂，所以为了区分将他们进行拆分</p></blockquote><ol><li><p>我们先抽取一个对counter处理的reducer；</p></li><li><p>再抽取一个对home处理的reducer；</p></li><li><p>将它们合并起来（使用combineReducers）；</p></li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//counter文件夹里面是原来的store里面的内容</span></span><br><span class="line"><span class="comment">//home文件夹里是原来的store里面的内容</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//store/index.js</span></span><br><span class="line"><span class="comment">//在导出仓库的时候使用redux-devtools</span></span><br><span class="line"><span class="keyword">import</span> &#123;applyMiddleware, compose, createStore&#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span>;</span><br><span class="line"><span class="comment">//让dispatch派发函数，一般是派发的是对象</span></span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span></span><br><span class="line"><span class="keyword">import</span> counterReducer <span class="keyword">from</span><span class="string">&#x27;./counter/index&#x27;</span></span><br><span class="line"><span class="keyword">import</span> homeReducer <span class="keyword">from</span> <span class="string">&#x27;./home/index&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reducer = <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">    <span class="attr">home</span>:homeReducer,</span><br><span class="line">    <span class="attr">count</span>:counterReducer</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//redux-devtools</span></span><br><span class="line"><span class="keyword">const</span> composeEnhancers =  <span class="variable language_">window</span>.<span class="title function_">__REDUX_DEVTOOLS_EXTENSION_COMPOSE__</span>(&#123;<span class="attr">trace</span>: <span class="literal">true</span>&#125;) || compose;</span><br><span class="line"><span class="comment">//让dispatch派发函数，一般是派发的是对象</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer,<span class="title function_">composeEnhancers</span>(<span class="title function_">applyMiddleware</span>(thunk)))</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure><h2 id="ReduxToolkit-的使用（也是以前redux的简化"><a href="#ReduxToolkit-的使用（也是以前redux的简化" class="headerlink" title="ReduxToolkit 的使用（也是以前redux的简化)"></a><strong>ReduxToolkit</strong> 的使用（也是以前redux的简化)</h2><h3 id="基本使用-2"><a href="#基本使用-2" class="headerlink" title="基本使用"></a>基本使用</h3><blockquote><p>其中核心的api为：configureStore，createSlice，createAsyncThunk</p></blockquote><h5 id="configureStore"><a href="#configureStore" class="headerlink" title="configureStore"></a>configureStore</h5><p>作用：包装createStore以提供简化的配置选项和良好的默认值。它可以自动<code>组合你的 slice reducer</code>，添加你提供</p><p>的<code>任何 Redux 中间件</code>，<code>redux-thunk</code>默认包含，并启用<code> Redux DevTools Extension</code>。</p><h5 id="createSlice-如下面的代码"><a href="#createSlice-如下面的代码" class="headerlink" title="createSlice(如下面的代码)"></a>createSlice(如下面的代码)</h5><p>作用：接受reducer函数的对象、切片名称和初始状态值，并自动生成<code>切片reducer</code>，并带有相应的<code>actions</code>。</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h5 id="createAsyncThunk（进行异步操作）"><a href="#createAsyncThunk（进行异步操作）" class="headerlink" title="createAsyncThunk（进行异步操作）"></a>createAsyncThunk（进行异步操作）</h5><h3 id="redux里面代码"><a href="#redux里面代码" class="headerlink" title="redux里面代码"></a>redux里面代码</h3><h4 id="创建切片"><a href="#创建切片" class="headerlink" title="创建切片"></a>创建切片</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//count.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;createSlice&#125; <span class="keyword">from</span> <span class="string">&#x27;@reduxjs/toolkit&#x27;</span></span><br><span class="line"><span class="keyword">const</span> createCounterSlice = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;counter&quot;</span>,</span><br><span class="line">    <span class="attr">initialState</span>:&#123;</span><br><span class="line">        <span class="attr">counter</span>:<span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reducers</span>:&#123;</span><br><span class="line">        <span class="title function_">addNumberAction</span>(<span class="params">state,&#123;payload&#125;</span>)&#123;</span><br><span class="line">            state.<span class="property">counter</span> += payload</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">subNumberAction</span>(<span class="params">state,&#123;payload&#125;</span>)&#123;</span><br><span class="line">            state.<span class="property">counter</span> -= payload</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123;addNumberAction,subNumberAction&#125; = createCounterSlice.<span class="property">actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createCounterSlice.<span class="property">reducer</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//home.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;createSlice&#125; <span class="keyword">from</span> <span class="string">&#x27;@reduxjs/toolkit&#x27;</span></span><br><span class="line"><span class="keyword">const</span> createHomeSlice = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;counter&quot;</span>,</span><br><span class="line">    <span class="attr">initialState</span>:&#123;</span><br><span class="line">        <span class="attr">banner</span>:[],</span><br><span class="line">        <span class="attr">recommend</span>:[]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reducers</span>:&#123;</span><br><span class="line">        <span class="title function_">changeBannerAction</span>(<span class="params">state,&#123;payload&#125;</span>)&#123;</span><br><span class="line">            state.<span class="property">counter</span> += payload</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">changeRecoomendAction</span>(<span class="params">state,&#123;payload&#125;</span>)&#123;</span><br><span class="line">            state.<span class="property">counter</span> -= payload</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123;changeBannerAction,changeRecoomendAction&#125; = createHomeSlice.<span class="property">actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createHomeSlice.<span class="property">reducer</span></span><br></pre></td></tr></table></figure><h4 id="创建store-1"><a href="#创建store-1" class="headerlink" title="创建store"></a>创建store</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;configureStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@reduxjs/toolkit&#x27;</span></span><br><span class="line"><span class="keyword">import</span> homeReducer <span class="keyword">from</span> <span class="string">&#x27;./features/home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> counterReducer <span class="keyword">from</span> <span class="string">&#x27;./features/counter&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">configureStore</span>(&#123;</span><br><span class="line">    <span class="attr">reducer</span>:&#123;</span><br><span class="line">        <span class="attr">home</span>:homeReducer,</span><br><span class="line">        <span class="attr">count</span>:counterReducer</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure><h4 id="extraReducer"><a href="#extraReducer" class="headerlink" title="extraReducer"></a><strong>extraReducer</strong></h4><blockquote><p>被创建的extraReducer中含有三个状态:pending,fulfilled,rejected</p><p>监听请求的过程</p></blockquote><h5 id="第一种写法"><a href="#第一种写法" class="headerlink" title="第一种写法"></a>第一种写法</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createSlice,createAsyncThunk&#125; <span class="keyword">from</span> <span class="string">&#x27;@reduxjs/toolkit&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">//异步请求 </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchHomeMultidataAction = <span class="title function_">createAsyncThunk</span>(<span class="string">&quot;fetch/homemultidata&quot;</span>,<span class="title function_">async</span>(extraInfo,&#123;dispatch,getState&#125;)=&gt;&#123;</span><br><span class="line">    <span class="comment">//1.发起请求</span></span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&quot;http://123.207.32.32:8000/home/multidata&quot;</span>)</span><br><span class="line">    <span class="keyword">const</span> banners = res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">banner</span>.<span class="property">list</span></span><br><span class="line">    <span class="keyword">const</span> recommends = res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">recommend</span>.<span class="property">list</span></span><br><span class="line">    <span class="comment">//2.派发数据，进行修改数据</span></span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">changeBannerAction</span>(banners))</span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">changeRecomendAction</span>(recommends))</span><br><span class="line">    <span class="comment">// 3.返回结果, 那么action状态会变成fulfilled状态</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="property">data</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> createHomeSlice = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;counter&quot;</span>,</span><br><span class="line">    <span class="attr">initialState</span>:&#123;</span><br><span class="line">        <span class="attr">banner</span>:[],</span><br><span class="line">        <span class="attr">recommend</span>:[]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reducers</span>:&#123;</span><br><span class="line">        <span class="title function_">changeBannerAction</span>(<span class="params">state,&#123;payload&#125;</span>)&#123;</span><br><span class="line">            state.<span class="property">banner</span> = payload</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">changeRecomendAction</span>(<span class="params">state,&#123;payload&#125;</span>)&#123;</span><br><span class="line">            state.<span class="property">recommend</span> = payload</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//进行监听,在createSlice的entraReducer中监听这些结果</span></span><br><span class="line">     <span class="attr">extraReducers</span>:&#123;</span><br><span class="line">        [fetchHomeMultidataAction.<span class="property">pending</span>](state,action)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;程序进行中&quot;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        [fetchHomeMultidataAction.<span class="property">fulfilled</span>](state,&#123;payload&#125;)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取到了数据&quot;</span>,payload);</span><br><span class="line">            state.<span class="property">banner</span> = payload.<span class="property">data</span>.<span class="property">banner</span>.<span class="property">list</span></span><br><span class="line">            state.<span class="property">recommend</span> = payload.<span class="property">data</span>.<span class="property">recommend</span>.<span class="property">list</span></span><br><span class="line">        &#125;,</span><br><span class="line">        [fetchHomeMultidataAction.<span class="property">rejected</span>](state,action)&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123;changeBannerAction,changeRecomendAction&#125; = createHomeSlice.<span class="property">actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createHomeSlice.<span class="property">reducer</span></span><br></pre></td></tr></table></figure><h2 id="State状态管理"><a href="#State状态管理" class="headerlink" title="State状态管理"></a>State状态管理</h2><blockquote><p> 方式一：组件中自己的state管理；</p><p> 方式二：Context数据的共享状态；</p><p> 方式三：Redux管理应用状态；</p></blockquote><p>状态管理方式</p><ol><li>ui类的在自己组件进行管理</li><li>大部分需要共享的状态，都交给redux来管理和维护；</li><li>网络请求的，交给redux来维护和管理</li></ol><h2 id="React-Router使用"><a href="#React-Router使用" class="headerlink" title="React Router使用"></a>React Router使用</h2><h3 id="基本使用-3"><a href="#基本使用-3" class="headerlink" title="基本使用"></a>基本使用</h3><p>路由的配置，嵌套路由</p><ol><li><code>npm install react-router-dom</code>   (千万不要下载错，不要下载为react-router)</li><li></li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//app.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;./pages/home&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Link</span>, <span class="title class_">Navigate</span>, <span class="title class_">Route</span>, <span class="title class_">Routes</span>,<span class="title class_">NavLink</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&quot;./pages/about&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&quot;./pages/login&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./App.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NotFound</span> <span class="keyword">from</span> <span class="string">&quot;./pages/NotFound&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Homerecommend</span> <span class="keyword">from</span> <span class="string">&quot;./pages/homerecommend&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Homeranking</span> <span class="keyword">from</span> <span class="string">&quot;./pages/homeranking&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="comment">// getClassNameActive(&#123;isActive&#125;)&#123;</span></span><br><span class="line">    <span class="comment">//     return classNames(&#123;&#x27;link-active&#x27;:isActive&#125;)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">return</span>(</span><br><span class="line">         <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;header&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是头部<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;navigator&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                     <span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">to</span>=<span class="string">&#x27;/&#x27;</span> <span class="attr">style</span>=<span class="string">&#123;(&#123;isActive&#125;)</span>=&gt;</span>(&#123;color:isActive?&#x27;red&#x27;:&#x27;&#x27;&#125;)&#125;&gt;首页<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                     <span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">to</span>=<span class="string">&#x27;/about&#x27;</span> <span class="attr">style</span>=<span class="string">&#123;(&#123;isActive&#125;)</span>=&gt;</span>(&#123;color:isActive?&#x27;red&#x27;:&#x27;&#x27;&#125;)&#125;&gt;关于<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                     <span class="tag">&lt;<span class="name">NavLink</span> <span class="attr">to</span>=<span class="string">&#x27;/login&#x27;</span> <span class="attr">style</span>=<span class="string">&#123;(&#123;isActive&#125;)</span>=&gt;</span>(&#123;color:isActive?&#x27;red&#x27;:&#x27;&#x27;&#125;)&#125;&gt;登录<span class="tag">&lt;/<span class="name">NavLink</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Navigate</span> <span class="attr">to</span>=<span class="string">&#x27;/home&#x27;</span>/&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">                       //嵌套路由</span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/home&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Home</span>/&gt;</span>&#125; &gt;</span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/home&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Navigate</span> <span class="attr">to</span>=<span class="string">&quot;/home/recommend&quot;</span>/&gt;</span>&#125;/&gt;</span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/home/recommend&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Homerecommend</span>/&gt;</span>&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                       <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/home/ranking&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Homeranking</span>/&gt;</span>&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/about&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">About</span>/&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">                   <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;/login&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Login</span>/&gt;</span>&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">                     <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#x27;*&#x27;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">NotFound</span>/&gt;</span>&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;/<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;footer&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                 我是底部</span></span><br><span class="line"><span class="language-xml">             <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     )</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在这个里面添加<code>&lt;Outlet/&gt;</code>来进行占位</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//home.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Outlet</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Link</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是home页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>歌曲推荐页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/home/recommend&#x27;</span>&gt;</span>推荐<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/home/ranking&#x27;</span>&gt;</span>排行榜<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">Outlet</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Home</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="手动实现路由跳转"><a href="#手动实现路由跳转" class="headerlink" title="手动实现路由跳转"></a>手动实现路由跳转</h3><p>使用useNavigate()来进行路由跳转</p><p>这个分为两种情况</p><ol><li><p>函数式组件</p><p>可以直接使用useNavigate()来进行路由跳转</p></li><li><p>类组件</p><p>在类组件里面不能使用hooks，所以可以使用高阶组件来进行对<code>组件的拦截</code>,给它添加一些hooks上面的对象</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//高阶组件的一个封装</span></span><br><span class="line"><span class="keyword">import</span> &#123;useNavigate&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">widthRouter</span>(<span class="params">WrapperComponent</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">props</span>)&#123;</span><br><span class="line">        <span class="comment">//1.导航</span></span><br><span class="line">        <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>()</span><br><span class="line">        <span class="keyword">const</span> router = &#123;navigate&#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrapperComponent</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">router</span>=<span class="string">&#123;router&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">WrapperComponent</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> widthRouter;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//button的路由跳转</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Outlet</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Link</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span></span><br><span class="line"><span class="keyword">import</span> widthRouter <span class="keyword">from</span> <span class="string">&quot;../hoc/with_router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="title function_">navigateTo</span>(<span class="params">path</span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;navigate&#125; = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">router</span></span><br><span class="line">        <span class="title function_">navigate</span>(path)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是home页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>歌曲推荐页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/home/recommend&#x27;</span>&gt;</span>推荐<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/home/ranking&#x27;</span>&gt;</span>排行榜<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span>=&gt;</span>this.navigateTo(&quot;/home/songmenu&quot;)&#125;&gt;跳到歌单页面<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">Outlet</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">widthRouter</span>(<span class="title class_">Home</span>);</span><br></pre></td></tr></table></figure><h3 id="路由参数传递"><a href="#路由参数传递" class="headerlink" title="路由参数传递"></a>路由参数传递</h3><ol><li><p>动态路由</p><p>&#x2F;detail&#x2F;:id，那么 &#x2F;detail&#x2F;abc、&#x2F;detail&#x2F;123都可以匹配到该Route，并且进行显示，这就是动态路由</p></li><li><p>search传递参数</p></li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;<span class="title class_">PureComponent</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Outlet</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Link</span>&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span></span><br><span class="line"><span class="keyword">import</span> widthRouter <span class="keyword">from</span> <span class="string">&quot;../hoc/with_router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Home</span> <span class="keyword">extends</span> <span class="title class_ inherited__">PureComponent</span> &#123;</span><br><span class="line">    <span class="title function_">navigateTo</span>(<span class="params">path</span>)&#123;</span><br><span class="line">       <span class="keyword">const</span> &#123;navigate&#125; = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">router</span></span><br><span class="line">        <span class="title function_">navigate</span>(path)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;param,query&#125; = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">router</span></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是home页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>歌曲推荐页面<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/home/recommend&#x27;</span>&gt;</span>推荐<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#x27;/home/ranking&#x27;</span>&gt;</span>排行榜<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            //路由传递参数和查询字符串</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/home/123?name=&#x27;小明&#x27;&amp;age=18&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是&#123;param.id&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>查询的字符串为&#123;query.name&#125;&#123;query.age&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span>=&gt;</span>this.navigateTo(&quot;/home/songmenu&quot;)&#125;&gt;跳到歌单页面<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">Outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">Outlet</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">widthRouter</span>(<span class="title class_">Home</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//高阶组件的封装</span></span><br><span class="line"><span class="keyword">import</span> &#123;useNavigate, useSearchParams&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useParams&#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">widthRouter</span>(<span class="params">WrapperComponent</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">props</span>)&#123;</span><br><span class="line">        <span class="comment">//1.导航</span></span><br><span class="line">        <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>()</span><br><span class="line">        <span class="comment">//2.动态路由的参数</span></span><br><span class="line">        <span class="keyword">const</span> param = <span class="title function_">useParams</span>()</span><br><span class="line">        <span class="comment">//3.查询字符串</span></span><br><span class="line">        <span class="keyword">const</span> [searchParams] = <span class="title function_">useSearchParams</span>()</span><br><span class="line">        <span class="keyword">const</span> query = <span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(searchParams)</span><br><span class="line">        <span class="keyword">const</span> router = &#123;navigate,param,query&#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrapperComponent</span> &#123;<span class="attr">...props</span>&#125; <span class="attr">router</span>=<span class="string">&#123;router&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">WrapperComponent</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> widthRouter;</span><br></pre></td></tr></table></figure><h3 id="对router配置文件的优化"><a href="#对router配置文件的优化" class="headerlink" title="对router配置文件的优化"></a>对router配置文件的优化</h3><p>useRoutes API可以完成相关的配置，要配置路由的懒加载需要配合Suspense进行包裹。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//router/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeRecommend</span> <span class="keyword">from</span> <span class="string">&quot;../pages/HomeRecommend&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeRanking</span> <span class="keyword">from</span> <span class="string">&quot;../pages/HomeRanking&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeSongMenu</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/HomeSongMenu&#x27;</span></span><br><span class="line"><span class="comment">// import About from &quot;../pages/About&quot;</span></span><br><span class="line"><span class="comment">// import Login from &quot;../pages/Login&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Category</span> <span class="keyword">from</span> <span class="string">&quot;../pages/Category&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Order</span> <span class="keyword">from</span> <span class="string">&quot;../pages/Order&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NotFound</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/NotFound&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Detail</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/Detail&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">User</span> <span class="keyword">from</span> <span class="string">&#x27;../pages/User&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Navigate</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">About</span> = <span class="title class_">React</span>.<span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../pages/About&quot;</span>))</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Login</span> = <span class="title class_">React</span>.<span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../pages/Login&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Home</span>/&gt;</span></span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Navigate</span> <span class="attr">to</span>=<span class="string">&quot;/home/recommend&quot;</span>/&gt;</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home/recommend&quot;</span>,</span><br><span class="line">        <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">HomeRecommend</span>/&gt;</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home/ranking&quot;</span>,</span><br><span class="line">        <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">HomeRanking</span>/&gt;</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home/songmenu&quot;</span>,</span><br><span class="line">        <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">HomeSongMenu</span>/&gt;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">About</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Login</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/category&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Category</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/order&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Order</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/detail/:id&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Detail</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/user&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">User</span>/&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;*&quot;</span>,</span><br><span class="line">    <span class="attr">element</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">NotFound</span>/&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> routes</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在APP页面使用&#123;useRoutes(routes)&#125;，将路由映射出来</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Link</span>, <span class="title class_">Navigate</span>, <span class="title class_">Route</span>, <span class="title class_">Routes</span>, useNavigate, useRoutes &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./style.css&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">navigateTo</span>(<span class="params">path</span>) &#123;</span><br><span class="line">    <span class="title function_">navigate</span>(path)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;app&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;header&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>header<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;nav&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/login&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span> =&gt;</span> navigateTo(&quot;/category&quot;)&#125;&gt;分类<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span> =&gt;</span> navigateTo(&quot;/order&quot;)&#125;&gt;订单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/user?name=why&amp;age=18&quot;</span>&gt;</span>用户<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;useRoutes(routes)&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;footer&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        Footer</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">// import &#123; StrictMode &#125; from &quot;react&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HashRouter</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Suspense</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#root&quot;</span>))</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="comment">// &lt;StrictMode&gt;</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">&#123;</span>&lt;<span class="attr">h3</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">App</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line">  <span class="comment">// &lt;/StrictMode&gt;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h1 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h1><p>（这些性质可以看课件）</p><h2 id="基本知识"><a href="#基本知识" class="headerlink" title="基本知识"></a>基本知识</h2><blockquote><p>使用hooks可以在不使用class组件的前提下，使用hooks里面的state，和class特有的性质（例如生命周期）。</p><p>总体来说就是函数式组件可以使用class组件里面的一些特性</p></blockquote><p>class组件相较于函数式组件的优势</p><ol><li><p>可定义自己的state</p><ol><li>函数组件没有state（无状态）</li></ol></li><li><p>有生命周期</p><p>1.函数式组件在学习hooks之前，如果在函数中发送网络请求，意味着每次重新渲染都会重新发送一次网络请求</p></li><li><p>class组件可以在状态改变时只会<code>重新执行render函数</code>以及我们希望<code>重新调用的生命周期函数componentDidUpdate</code>等；</p><ol><li>但函数组件如果状态改变的话就会重新执行这整个函数</li></ol></li></ol><p>class组件的缺点</p><ol><li>拆分很难</li><li>this指向问题</li><li>组件复用很难</li></ol><h2 id="做一个计数器的案例"><a href="#做一个计数器的案例" class="headerlink" title="做一个计数器的案例"></a>做一个计数器的案例</h2><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;memo, useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CounterHook</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>计时器<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>当前计数:&#123;count&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span>=&gt;</span>setCount(count + 1)&#125;&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span>=&gt;</span>setCount(count-1)&#125;&gt;-1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">memo</span>(<span class="title class_">CounterHook</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>记住最核心的两个hook：useState，useEffect</p><h2 id="useState的使用"><a href="#useState的使用" class="headerlink" title="useState的使用"></a>useState的使用</h2><p>参数：初始化值</p><p>返回值：1. 当前状态的值 2. 设置状态值的函数。返回的是一个数组，可以通过解构来完成赋值。</p><p>规则：</p><ol><li>只能在函数最外层调用Hook，不要在循环、条件判断或者子函数里面调用。</li><li>只能在react的函数组件中调用Hook，不能在其他的js函数中调用</li></ol><h2 id="Effect-Hook使用"><a href="#Effect-Hook使用" class="headerlink" title="Effect Hook使用"></a>Effect Hook使用</h2><p>目前可以当做类组件里面的生命周期来使用。</p><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><blockquote><p>完成一些class里面的生命周期，一些产生副作用的函数也可以写在里面</p></blockquote><p>useEffect是在<code>react需要渲染</code>后执行的某些操作</p><ol><li>传入一个<code>回调函数</code>，React执行完更新之后会回调</li><li>第一次渲染完成，之后更新还会渲染</li></ol><h3 id="清除Effect"><a href="#清除Effect" class="headerlink" title="清除Effect"></a>清除Effect</h3><p>在useEffect中清除Effect：在useEffect里面<code>传入一个回调</code>的同时它的<code>返回值是另一个回调</code>。</p><h3 id="使用多个Effect"><a href="#使用多个Effect" class="headerlink" title="使用多个Effect"></a>使用多个Effect</h3><p>因为useEffect的特性，每一次渲染的时候都会调用回调函数，但是对于一些副作用函数来说不需要每一次都调用，不然会降低性能。</p><h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>useEffect实际上有两个参数：</p><p>参数一：执行的回调函数；</p><p>参数二：该useEffect在哪些state发生变化时，才重新执行；（受谁的影响，依赖于谁的变化）</p><p><strong>注意</strong>：<strong>如果一个函数我们不希望依赖任何的内容时，也可以传入一个空的数组 []。</strong></p><h2 id="自定义Hook"><a href="#自定义Hook" class="headerlink" title="自定义Hook"></a>自定义Hook</h2><p>很像vue中的函数逻辑抽离，进行复用。</p><p>需求一:所有的组件在创建和销毁时都进行打印</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;memo, useEffect, useState&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useLogLife</span>(<span class="params">cName</span>)&#123;</span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(cName+<span class="string">&quot;组件被创建了&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(cName+<span class="string">&quot;组件被销毁了&quot;</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;, [cName]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Home</span> = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">useLogLife</span>(<span class="string">&quot;home&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Home Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">About</span> = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">useLogLife</span>(<span class="string">&quot;about&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>About Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App1</span> = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [isShow, setIsShow] = <span class="title function_">useState</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="title function_">useLogLife</span>(<span class="string">&quot;app&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App Root Component<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span>=&gt;</span>setIsShow(!isShow)&#125;&gt;切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;isShow &amp;&amp; <span class="tag">&lt;<span class="name">Home</span>&gt;</span><span class="tag">&lt;/<span class="name">Home</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">            &#123;isShow &amp;&amp; <span class="tag">&lt;<span class="name">About</span>&gt;</span><span class="tag">&lt;/<span class="name">About</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App1</span></span><br></pre></td></tr></table></figure><p>需求二:Context的共享</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//context/index.js</span></span><br><span class="line"><span class="comment">//创建上下文</span></span><br><span class="line"><span class="keyword">import</span> &#123;createContext&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserContext</span> = <span class="title function_">createContext</span>()</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TokenContext</span> = <span class="title function_">createContext</span>()</span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    <span class="title class_">UserContext</span>,</span><br><span class="line">    <span class="title class_">TokenContext</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//useUserToken hook</span></span><br><span class="line">使用用户和token的hook</span><br><span class="line"><span class="keyword">import</span> &#123;useContext&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">TokenContext</span>, <span class="title class_">UserContext</span>&#125; <span class="keyword">from</span> <span class="string">&quot;../context&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useUserToken</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//用户上下文</span></span><br><span class="line">    <span class="keyword">const</span> user = <span class="title function_">useContext</span>(<span class="title class_">UserContext</span>);</span><br><span class="line">    <span class="comment">//token上下文</span></span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">useContext</span>(<span class="title class_">TokenContext</span>);</span><br><span class="line">    <span class="keyword">return</span> [user,token]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useUserToken;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//实际的应用</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;memo&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useUserToken&#125; <span class="keyword">from</span> <span class="string">&quot;../hooks&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Home</span> = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [user,token] = <span class="title function_">useUserToken</span>()</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>用户的信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                用户的姓名:&#123;user.name&#125;,用户年龄:&#123;user.age&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                用户token:&#123;token.name&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Profile</span> = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [user,token] = <span class="title function_">useUserToken</span>()</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>用户的信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                用户的姓名:&#123;user.name&#125;,用户年龄:&#123;user.age&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                用户token:&#123;token.name&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Context</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [user,token] = <span class="title function_">useUserToken</span>()</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Home</span>&gt;</span><span class="tag">&lt;/<span class="name">Home</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Profile</span>&gt;</span><span class="tag">&lt;/<span class="name">Profile</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Context</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这个上下文可以通过以前的内容来获得</p><p>需求三:获取滚动位置</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//useScrollPosition的hook</span></span><br><span class="line"><span class="keyword">import</span> &#123;useEffect, useState&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useScrollPosition</span> ()&#123;</span><br><span class="line">    <span class="keyword">const</span> [ scrollX, setScrollX ] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> [ scrollY, setScrollY ] = <span class="title function_">useState</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//获得y</span></span><br><span class="line">            <span class="keyword">const</span> <span class="title function_">handleScroll</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">                <span class="title function_">setScrollY</span>(<span class="variable language_">window</span>.<span class="property">scrollY</span>)</span><br><span class="line">                <span class="title function_">setScrollX</span>(<span class="variable language_">window</span>.<span class="property">scrollX</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//监听鼠标滑动</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>,handleScroll)</span><br><span class="line">            <span class="comment">//取消监听</span></span><br><span class="line">            <span class="keyword">return</span> <span class="function">()=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>,handleScroll)</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;, []);</span><br><span class="line">    <span class="keyword">return</span> [scrollX,scrollY]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useScrollPosition</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;memo&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useScrollPosition&#125; <span class="keyword">from</span> <span class="string">&quot;../hooks&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">GetScroll</span> = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [scrollX,scrollY] = <span class="title function_">useScrollPosition</span>()</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>获取屏幕位置:&#123;scrollX&#125;,&#123;scrollY&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MyComponent</span> = <span class="title function_">memo</span>(</span><br><span class="line">    <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">GetScroll</span>&gt;</span><span class="tag">&lt;/<span class="name">GetScroll</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MyComponent</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">需求四：localStorge数据存储</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>jsx</span><br><span class="line"><span class="comment">//useLocalStorage hook</span></span><br><span class="line"><span class="keyword">import</span> &#123;useEffect, useState&#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useLocalStorage</span> (key)&#123;</span><br><span class="line">    <span class="comment">//获取本地存储的信息</span></span><br><span class="line">    <span class="keyword">const</span> [data, setData] = <span class="title function_">useState</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> item = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key)</span><br><span class="line">        <span class="keyword">if</span>(!item)<span class="keyword">return</span><span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(item)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//存储信息</span></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">    &#125;, [data]);</span><br><span class="line">    <span class="keyword">return</span> [data,setData]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useLocalStorage</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123;memo&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useLocalStorage&#125; <span class="keyword">from</span> <span class="string">&quot;../hooks&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> token = <span class="title function_">memo</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            我的token为:&#123;token&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">LocalStorageData</span> = <span class="title function_">memo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [token,setToken] = <span class="title function_">useLocalStorage</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">setTokenMessage</span> ()&#123;</span><br><span class="line">        <span class="title function_">setToken</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;setTokenMessage&#125;</span>&gt;</span>设置token<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span>我的token为:&#123;token&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">LocalStorageData</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端框架 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Git 和 Github的使用</title>
      <link href="/2023/10/01/%E5%89%8D%E7%AB%AF%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%8C%96/Git/"/>
      <url>/2023/10/01/%E5%89%8D%E7%AB%AF%E7%9A%84%E5%B7%A5%E7%A8%8B%E5%8C%96/Git/</url>
      
        <content type="html"><![CDATA[<h1 id="Git-和-Github的使用"><a href="#Git-和-Github的使用" class="headerlink" title="Git 和 Github的使用"></a>Git 和 Github的使用</h1><p>可以参考<a href="https://www.liaoxuefeng.com/wiki/896043488029600">廖雪峰Git</a><br>提示:下面有的命令用()来包裹的，应该为&lt;&gt;</p><h2 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h2><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">版本控制工具，进行备份</span><br><span class="line">用来记录文件的变化，用于版本更新，并且记录以前的版本。</span><br><span class="line">git是分布式版本控制系统</span><br></pre></td></tr></table></figure><p><img src="/image/img.png" alt="img.png"></p><h2 id="Git的基本概念"><a href="#Git的基本概念" class="headerlink" title="Git的基本概念"></a>Git的基本概念</h2><h3 id="三个仓库"><a href="#三个仓库" class="headerlink" title="三个仓库"></a>三个仓库</h3><ol><li>工作区(就是编写代码的地方)</li><li>暂存区(把已经完成的文件放进这里)</li><li>Git仓库(当这个文件全部完成之后，放进Git仓库进行管理)</li></ol><h3 id="一些状态"><a href="#一些状态" class="headerlink" title="一些状态"></a>一些状态</h3><p><strong>U:未跟踪,M:已修改,S:已暂存,A:新添加,’’:未修改</strong></p><h4 id="基本工作流程"><a href="#基本工作流程" class="headerlink" title="基本工作流程"></a>基本工作流程</h4><p>基本的 Git 工作流程如下：</p><ol><li>在工作区中修改文件</li><li>将你想要下次提交的更改进行暂存</li><li>提交更新，找到暂存区的文件，将快照永久性存储到 Git 仓库</li></ol><h2 id="Git的使用"><a href="#Git的使用" class="headerlink" title="Git的使用"></a>Git的使用</h2><p>首先先下载，安装</p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p><img src="/image/GitConfig.png" alt="img.png"></p><h3 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h3><p><img src="/image/Commond01.png" alt="img.png"><br><img src="/image/Commond2.png" alt="img.png"></p><h4 id="修改和回退历史"><a href="#修改和回退历史" class="headerlink" title="修改和回退历史"></a>修改和回退历史</h4><p>版本回退<br><img src="/image/reset.png" alt="img.png"></p><ol><li>未add但修改了(在工作区)</li><li>add了，但未commit</li><li>add和commit了<br>场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令git restore (file)</li></ol><p>一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；<br>一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</p><p>结果：工作区文件回退。</p><p>场景2：当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令git restore –staged (file)，就回到了场景1，第二步按场景1操作。</p><p>结果：暂存区文件回退，工作区文件未回退，如需继续回退，操按情况1操作。</p><p>场景3： 假设你不但改错了东西，还从暂存区提交到了版本库，怎么办呢？还记得版本回退一节吗？<br>已经提交了不合适的修改到版本库时，想要撤销本次提交，参考版本回退一节，不过前提是没有推送到远程库。git reset –hard (id)</p><p>结果：工作区文件、暂存区文件、本地仓库都回退</p><p><strong>我的推荐是：尽量不要直接commit</strong></p><p>修改的时候，不要直接进行commit，要先add例子：<br><code>第一次修改 -&gt; git add -&gt; 第二次修改 -&gt; git add -&gt; git commit</code></p><p>可以将两次的文件进行合并，最后进行提交</p><p><code>第一次修改 -&gt; git add -&gt; 第二次修改 -&gt; git commit</code></p><p>这种只会提交第一次的</p><h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><p>先手动删除文件，然后使用git add (file) 和git rm(file)效果是一样的。</p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">当你误删的话只能回退以前的版本，来进行恢复</span><br></pre></td></tr></table></figure><h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><p><img src="/image/branch1.png" alt="img.png"><br>上面有分支的指令（知道：增，删，合并，切换分支就可以了）</p><p>注意：合并主分支的时候要在主分支进行合并</p><h3 id="推送失败"><a href="#推送失败" class="headerlink" title="推送失败"></a>推送失败</h3><ol><li><code>git pull</code>，再推送</li><li>如果<code>git pull</code>，再推送失败，按照报错的操作进行推送</li></ol><h3 id="分支合并遇到冲突"><a href="#分支合并遇到冲突" class="headerlink" title="分支合并遇到冲突"></a>分支合并遇到冲突</h3><p>手动解决冲突，再进行合并<br><img src="/image/confict.png" alt="img.png"></p><h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><h2 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h2>]]></content>
      
      
      <categories>
          
          <category> 前端工程化 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>tailwindcss</title>
      <link href="/2023/10/01/%E6%9C%AA%E6%9D%A5%E5%85%88%E9%A9%B1%EF%BC%8C%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/tailwindcss/"/>
      <url>/2023/10/01/%E6%9C%AA%E6%9D%A5%E5%85%88%E9%A9%B1%EF%BC%8C%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/tailwindcss/</url>
      
        <content type="html"><![CDATA[<h1 id="原子化css"><a href="#原子化css" class="headerlink" title="原子化css"></a>原子化css</h1>]]></content>
      
      
      <categories>
          
          <category> 未来先驱，前沿技术 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式</title>
      <link href="/2023/01/27/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%AD%A3%E5%88%99%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
      <url>/2023/01/27/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%AD%A3%E5%88%99%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="正则基础知识"><a href="#正则基础知识" class="headerlink" title="正则基础知识"></a>正则基础知识</h2><h3 id="第一章-基本概念"><a href="#第一章-基本概念" class="headerlink" title="第一章:基本概念"></a>第一章:基本概念</h3><p><strong>概念:</strong></p><p> 正则表达式(regular expression)是一个描述字符模式的对象，ECMAScript的RegExp 类表示正则表达式，</p><p> 而String和RegExp都定义了使用正则表达式进行强大的模式匹配和文本检索与替换的函数。</p><p> 正则表达式用于对字符串模式匹配及检索替换，是对字符串执行模式匹配的强大工具。</p><p><strong>作用:</strong></p><ol><li>提高用户体验</li><li>减轻服务器的压力</li></ol><h3 id="第二章-创建正则表达式"><a href="#第二章-创建正则表达式" class="headerlink" title="第二章:创建正则表达式"></a>第二章:创建正则表达式</h3><h4 id="1-使用new来创建"><a href="#1-使用new来创建" class="headerlink" title="1.使用new来创建"></a>1.使用new来创建</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;box&#x27;</span> , <span class="string">&#x27;gi&#x27;</span> );</span><br></pre></td></tr></table></figure><p>第一个参数是字符串；</p><p>第二个参数可选模式修饰符</p><table><thead><tr><th align="center">参数</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">g</td><td align="center">全局匹配</td></tr><tr><td align="center">i</td><td align="center">忽略大小写</td></tr><tr><td align="center">m</td><td align="center">多行匹配</td></tr></tbody></table><h4 id="2-使用字面量"><a href="#2-使用字面量" class="headerlink" title="2.使用字面量"></a>2.使用字面量</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/box/gi</span>;</span><br></pre></td></tr></table></figure><p>直接用2个 &#x2F;  ;</p><p>在俩个斜杠后加上模式修饰符；</p><p><strong>俩种创建方式比较:</strong></p><p>1.使用字面量方式创建用的更加广泛;</p><p>2.当要匹配的内容是变量时,只能使用new来创建.</p><h3 id="第三章-正则表达式的测试"><a href="#第三章-正则表达式的测试" class="headerlink" title="第三章:正则表达式的测试"></a>第三章:正则表达式的测试</h3><h4 id="1-test"><a href="#1-test" class="headerlink" title="1.test( )"></a>1.test( )</h4><blockquote><p>正则表达式对象.test(字符串)</p></blockquote><ul><li>参数：要匹配的字符串</li><li>返回值：匹配成功返回true，失败返回false</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>:</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/Box/i</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;box&#x27;</span> ;</span><br><span class="line"><span class="title function_">alert</span>(exp.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// =&gt;   true     //忽略大小写 ；</span></span><br></pre></td></tr></table></figure><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line">例<span class="symbol">2:</span></span><br><span class="line"><span class="built_in">var</span> <span class="built_in">exp</span> = /abc/g;</span><br><span class="line"><span class="built_in">var</span> str = &#x27;abcab&#x27;;</span><br><span class="line"><span class="built_in">var</span> res = exp.test(str);</span><br><span class="line">console.log(res);</span><br><span class="line">console.log(exp.test(str));</span><br><span class="line">console.log(exp.test(str));</span><br><span class="line">=&gt; <span class="built_in">true</span>//从第一个开始匹配,匹配到了abc 返回<span class="built_in">true</span>; </span><br><span class="line">=&gt; <span class="built_in">false</span>//由于开启了全局匹配,所以从上次匹配之后的位置开始匹配(也就是从第二个a开始);若没有g 则每次都会从头开始匹配</span><br><span class="line">=&gt; <span class="built_in">true</span>//由于上次匹配是<span class="built_in">false</span>并且已经将字符串str查找完了,所以又从头开始匹配</span><br></pre></td></tr></table></figure><p><strong>注:</strong></p><pre><code>开启了全局匹配g后,正则表达式内部有一个lastIndex的属性,用以记录下次开始查找的下标,保证其每次从lastIndex的位置开始查找</code></pre><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">例<span class="number">3</span>:</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/abc/g</span>;<span class="comment">//同一正则表达式匹配不同字符串</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">&#x27;abcab&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str1));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str2));</span><br><span class="line"><span class="comment">// =&gt;  true;//从str1的0位开始匹配,匹配到了abc,返回true,此时lastIndex为3</span></span><br><span class="line"><span class="comment">// =&gt; false;//从str2中lastIndex的位置开始匹配,也就是从第二个a开始</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">例<span class="number">4</span>:</span><br><span class="line"><span class="keyword">var</span> exp1 = <span class="regexp">/abc/g</span>;<span class="comment">//不同正则表达式匹配同一字符串</span></span><br><span class="line"><span class="keyword">var</span> exp2 = <span class="regexp">/abc/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp1.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp2.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// =&gt;  true;//从str1的0位开始匹配,匹配到了abc,返回true</span></span><br><span class="line"><span class="comment">// =&gt; true;//从str1的0位开始匹配,返回true</span></span><br></pre></td></tr></table></figure><h4 id="2-exec"><a href="#2-exec" class="headerlink" title="2.exec( )"></a>2.exec( )</h4><blockquote><p>exec(字符串)：该方法为专门为捕获组而设计的</p></blockquote><ul><li>参数：要匹配的字符串</li><li>返回值：返回的是一个数组。如果不匹配则返回null</li></ul><p><strong>关于返回值数组的说明：</strong></p><ul><li>它确实是Array的实例。</li><li>但是这个数组有两个额外的属性：index和 input</li><li>index：表示匹配的字符串在源字符串中的索引</li><li>input：表示匹配的源字符串。</li><li>数组的第一项是与整个模式匹配的字符串，其他项是与模式中捕获组匹配的字符串</li><li>如果没有捕获组，则数组中只有第一项。关于捕获组的概念以后再说</li></ul><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">例<span class="number">1</span>:</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/abc/gi</span>;</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">&quot;aaabcccdabcAbcAdaBc&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> strNew = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> (strNew=exp.<span class="title function_">exec</span>(str))&#123;<span class="comment">//使用while循环,将所有匹配到字符串输出来</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(strNew[<span class="number">0</span>])<span class="comment">//由于返回的是一个带有很多属性的数组,所以我们只要数组中的字符串,也就是索引为0.</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="第四章-正则表达式的规则"><a href="#第四章-正则表达式的规则" class="headerlink" title="第四章:正则表达式的规则"></a>第四章:正则表达式的规则</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">字符类:单个字母数字下划线<span class="comment">//匹配除换行符外的任意字符(当点放在[]中是，没有特殊意义)</span></span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/\d/g</span>;<span class="comment">// [0-9]</span></span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/\D/g</span>;<span class="comment">//[^0-9]</span></span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/\w/g</span>;<span class="comment">//[a-zA-Z0-9_];</span></span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/\W/g</span>;<span class="comment">//[^a-zA-Z0-9_];</span></span><br></pre></td></tr></table></figure><figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">字符类:空白字符</span><br><span class="line"><span class="string">\0</span>                             匹配<span class="literal">null</span> 字符</span><br><span class="line"><span class="string">\b</span>                             匹配退格字符</span><br><span class="line"><span class="string">\n</span>                             匹配换行符</span><br><span class="line"><span class="string">\r</span>                             匹配回车字符</span><br><span class="line"><span class="string">\t</span>                             匹配制表符</span><br><span class="line"><span class="string">\s</span>                             匹配空白字符、空格、制表符和换行符</span><br><span class="line"><span class="string">\S</span>                             匹配非空白字符</span><br></pre></td></tr></table></figure><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">元字符/元符号                    匹配情况</span><br><span class="line">^                             行首匹配</span><br><span class="line"><span class="variable">$ </span>                            行尾匹配</span><br></pre></td></tr></table></figure><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line">字符类：重复字符</span><br><span class="line">元字符/元符号                                匹配情况</span><br><span class="line">?  例如（x?）                            匹配<span class="number">0</span>个或<span class="number">1</span> 个x</span><br><span class="line">*  例如（x*）                            匹配<span class="number">0</span>个或任意多个x</span><br><span class="line">+  例如（x+）                            匹配至少一个x</span><br><span class="line">(xyz)+                                     匹配至少一个(xyz)</span><br><span class="line">&#123;m,<span class="built_in">n</span>&#125; 例如x&#123;m,<span class="built_in">n</span>&#125;  <span class="built_in">n</span>&gt;=次数&gt;=m            匹配最少m个、最多<span class="built_in">n</span>个x</span><br><span class="line">&#123;<span class="built_in">n</span>&#125;                                        匹配前一项<span class="built_in">n</span>次     </span><br><span class="line">&#123;<span class="built_in">n</span>,&#125;                                    匹配前一项<span class="built_in">n</span>次，或者多次</span><br></pre></td></tr></table></figure><h4 id="1"><a href="#1" class="headerlink" title="1.[ ]"></a>1.[ ]</h4><blockquote><p>匹配[ ]内的任意一个字符</p></blockquote><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">exp</span> = <span class="regexp">/[abc]/gi</span>;<span class="comment">// []内代表匹配其中的一个字符: a 或 b 或 c</span></span><br></pre></td></tr></table></figure><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">exp</span> = <span class="regexp">/[a-zA-Z0-9_$]/g</span>;<span class="comment">//匹配26个大小写字母,0-9数字,下划线_  美元符$ 中的任意一个;</span></span><br></pre></td></tr></table></figure><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">exp</span> = <span class="regexp">/[^a-zA-Z]/g</span><span class="comment">//匹配任意不在括号中的字符集中的字符;</span></span><br></pre></td></tr></table></figure><p>[ ]也可以配合?  *  +  {} 来使用;  如[a-z]+ 匹配至少一个[a-z]范围内的任意一个;</p><h4 id="2"><a href="#2" class="headerlink" title="2. ^"></a>2. ^</h4><p><strong>俩种用法:</strong></p><blockquote><p>1.放在[ ] 内 表示非</p></blockquote><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">exp</span> = <span class="regexp">/[^a-zA-Z]/g</span><span class="comment">//匹配任意不在括号中的字符集中的字符;</span></span><br></pre></td></tr></table></figure><blockquote><p>2.放在[ ] 外,表示行首匹配</p></blockquote><figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">exp</span> = <span class="regexp">/^\d/g</span>;<span class="comment">//规定行首必须是数字</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;123qq&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(<span class="built_in">exp</span>.test(str));<span class="comment">//行首为数字1,返回true;  </span></span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(<span class="built_in">exp</span>.lastIndex);<span class="comment">//此时lastIndex 为1</span></span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(<span class="built_in">exp</span>.test(str));<span class="comment">//从下标为1的位置开始匹配,虽然下标为1的位置是数字,但却不是行首,返回false;</span></span><br></pre></td></tr></table></figure><h4 id="3"><a href="#3" class="headerlink" title="3. $"></a>3. $</h4><blockquote><p>表示行尾匹配,用法与^ 相近</p></blockquote><p>^ 和 $ 合用</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/^\d\d$/g</span>;<span class="comment">//规定行首和行尾必须是数字</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;12&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">// true</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="property">lastIndex</span>);<span class="comment">// 2</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">//false</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="property">lastIndex</span>);<span class="comment">//0</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">//true</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str2));<span class="comment">//false//exp中规定了行首行尾为数字,中间无内容</span></span><br></pre></td></tr></table></figure><h4 id="4"><a href="#4" class="headerlink" title="4. ."></a>4. .</h4><blockquote><p>匹配除换行符外的任意字符(当点放在[ ]中是，没有特殊意义)</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/./g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// =&gt;    true</span></span><br></pre></td></tr></table></figure><p>若想匹配它本身.</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/\./g</span>;</span><br></pre></td></tr></table></figure><h4 id="5"><a href="#5" class="headerlink" title="5. |"></a>5. |</h4><blockquote><p>择一匹配(管道符号)  表示或</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/a|b/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// =&gt;    true</span></span><br></pre></td></tr></table></figure><p><strong>数量词的匹配:默认都是贪婪匹配</strong></p><h4 id="6"><a href="#6" class="headerlink" title="6. ?"></a>6. ?</h4><blockquote><p>匹配0个或者1个</p></blockquote><h4 id="7"><a href="#7" class="headerlink" title="7. *"></a>7. *</h4><blockquote><p>匹配0个或者多个</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/a*/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aaaaa&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h4 id="8"><a href="#8" class="headerlink" title="8. +"></a>8. +</h4><blockquote><p>匹配1个或多个</p></blockquote><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/a+/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;aaaaa&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));<span class="comment">//false</span></span><br></pre></td></tr></table></figure><h4 id="9-n"><a href="#9-n" class="headerlink" title="9. {n}"></a>9. {n}</h4><blockquote><p>匹配n个,只能是n个</p></blockquote><h4 id="10-n"><a href="#10-n" class="headerlink" title="10. {n,}"></a>10. {n,}</h4><blockquote><p>匹配至少n个</p></blockquote><h4 id="11-n-m"><a href="#11-n-m" class="headerlink" title="11. {n,m}"></a>11. {n,m}</h4><blockquote><p>匹配至少n个,最多m个</p></blockquote><h4 id="第五章-基本的正则表达式验证"><a href="#第五章-基本的正则表达式验证" class="headerlink" title="第五章:基本的正则表达式验证"></a>第五章:基本的正则表达式验证</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">写一个正在表达式,判断手机号是否合法</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/1[34578]\d&#123;9&#125;$/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;13979318939&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">test</span>(str));</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line">写一个正在表达式,判断邮箱是否合法</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/^\w&#123;3,15&#125;@[\w-]+\.(com|cn|net|org|edu|com\.cn)$/gi</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;133_d@cn.com.cn&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">exec</span>(str)[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">// =&gt;  133_d@cn.com.cn   </span></span><br><span class="line">写一个正则表达式,判断图片的地址是否合法</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/^(http|https):\/\/.+\.(jpg|jpeg|gif|png)$/gi</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;http://3323498dsfledf.png&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(exp.<span class="title function_">exec</span>(str)[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">// =&gt;  http://3323498dsfledf.png</span></span><br><span class="line">写一个正则表达式,爬取一堆字符串中的所有图片地址</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/http:\/\/[^:]+\.(jpg|jpeg|gif|png)/gi</span>;</span><br><span class="line">写一个正则表达式,将字符串中的重复去掉</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/(.)\1+/gi</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;aabbccdd&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">replace</span>(exp,<span class="string">&#x27;$1&#x27;</span>));</span><br><span class="line"><span class="comment">// =&gt;  abc  </span></span><br></pre></td></tr></table></figure><h4 id="第六章-方法"><a href="#第六章-方法" class="headerlink" title="第六章:方法"></a>第六章:方法</h4><h5 id="1-search"><a href="#1-search" class="headerlink" title="1.search( )"></a>1.search( )</h5><blockquote><p>str.search(exp);</p><p>检索与正则表达式相匹配的第一个匹配项的索引。</p><p>返回值: 索引 ,没有返回-1;</p></blockquote><p><strong>注:search( )不支持全局,每次调用总是从0开始查找.加不加g都一样</strong></p><h5 id="2-match"><a href="#2-match" class="headerlink" title="2.match( )"></a>2.match( )</h5><blockquote><p>str.match(exp);</p><p>把满足正则表达式的所有字符串一起返回</p><p>返回值: 数组 ,没有返回null;</p></blockquote><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line"><span class="built_in">var</span> str = <span class="string">&quot;abc134ABC244co9&quot;</span>;</span><br><span class="line">console.log(str.match(/\d+/gi));//获取str中的所有数字的数组</span><br><span class="line">=&gt;  [<span class="string">&quot;134&quot;</span>,<span class="string">&quot;244&quot;</span>,<span class="string">&quot;9&quot;</span>]</span><br></pre></td></tr></table></figure><p><strong>注:如果想获取所有的满足的,应该使用全局g,使用全局的时候,分组的信息则拿不到</strong></p><h5 id="3-replace"><a href="#3-replace" class="headerlink" title="3.replace( )"></a>3.replace( )</h5><blockquote><p>str.replace(exp,newStr);</p><p>将正则表达式替换</p><p>返回值: 替换之后的字符串</p></blockquote><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line"><span class="built_in">var</span> str = <span class="string">&quot;123aaa244&quot;</span>;</span><br><span class="line">console.log(str.replace(/\d/gi,<span class="string">&quot;&quot;</span>));//将str中的数字全部去掉</span><br><span class="line">=&gt;  aaa</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">写一个正则表达式,将字符串中的重复去掉</span><br><span class="line"><span class="keyword">var</span> exp = <span class="regexp">/(.)\1+/gi</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;aabbccdd&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">replace</span>(exp,<span class="string">&#x27;$1&#x27;</span>));</span><br><span class="line"><span class="comment">// =&gt;  abc  </span></span><br></pre></td></tr></table></figure><h5 id="4-split"><a href="#4-split" class="headerlink" title="4.split( )"></a>4.split( )</h5><blockquote><p>str.split(exp,length);</p><p>length:可选参,切出来的数组的最大长度</p><p>使用split 拆分成字符串数组</p><p>返回替换之后的字符串</p></blockquote><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line"><span class="built_in">var</span> str = <span class="string">&quot;102dsfe00dfefsf55&quot;</span>;</span><br><span class="line"><span class="built_in">var</span> <span class="built_in">exp</span> = /\D+/gi;//用所有非数字来切割</span><br><span class="line">console.log(str.split(<span class="built_in">exp</span>));</span><br><span class="line">=&gt;[<span class="string">&quot;102&quot;</span>,<span class="string">&quot;00&quot;</span>,<span class="string">&quot;55&quot;</span>]</span><br></pre></td></tr></table></figure><h2 id="正则分组"><a href="#正则分组" class="headerlink" title="正则分组"></a>正则分组</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 正则捕获到的结果会被储存起来,每一个分组捕获的内容会从1开始被编号储存</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</span><br><span class="line"><span class="keyword">var</span> dateStr = <span class="string">&#x27;2018-04-18&#x27;</span>;</span><br><span class="line">reg.<span class="title function_">test</span>(dateStr);  <span class="comment">//true  //这一步是需要有的,下面的代码才会有效</span></span><br><span class="line"><span class="title class_">RegExp</span>.<span class="property">$1</span>   <span class="comment">//2018</span></span><br><span class="line"><span class="title class_">RegExp</span>.<span class="property">$2</span>   <span class="comment">//04</span></span><br><span class="line"><span class="title class_">RegExp</span>.<span class="property">$3</span>  <span class="comment">//18</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>一个简单例子:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 下面的这种处理日期格式的还是比较实用的</span></span><br><span class="line"><span class="keyword">var</span> dateStr = <span class="string">&#x27;2018/04/18&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/(\d&#123;4&#125;)\/(\d&#123;2&#125;)\/(\d&#123;2&#125;)/</span>;</span><br><span class="line">dateStr = dateStr.<span class="title function_">replace</span>(reg, <span class="string">&#x27;$1-$2-$3&#x27;</span>) <span class="comment">//&quot;2018-04-18&quot;</span></span><br><span class="line"><span class="comment">// 虽然dateStr.replace(/\//g,&#x27;-&#x27;)这句代码也可以实现相同的结果,还比较简单,但是</span></span><br><span class="line"><span class="comment">// 就觉得上面的正则方式的代码很帅;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 正则表达式 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络.md</title>
      <link href="/2023/01/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/01/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="第一单元"><a href="#第一单元" class="headerlink" title="第一单元"></a>第一单元</h1><h2 id="因特网概述"><a href="#因特网概述" class="headerlink" title="因特网概述"></a>因特网概述</h2><h3 id="网络、互联网、因特网"><a href="#网络、互联网、因特网" class="headerlink" title="网络、互联网、因特网"></a>网络、互联网、因特网</h3><p>网络:由若干节点和链接这些节点的链路构成的</p><p>互联网(internet):网络的集合，多个网络可以通过路由器互相连接</p><p>因特网(Internet):全球最大的、开放的、由众多网络组成的国际性网络</p><h3 id="因特网的组成"><a href="#因特网的组成" class="headerlink" title="因特网的组成"></a>因特网的组成</h3><p><strong>边缘部分</strong><br>有所有连接在因特网上的主机组成。这部分用户可以直接使用</p><p><strong>核心部分</strong><br>由大量网络和大量连接在这些网络上的路由器组成，这部分为边缘部分提供服务(提供联通和交换)。</p><h2 id="三种交换模式"><a href="#三种交换模式" class="headerlink" title="三种交换模式"></a>三种交换模式</h2><p>电路交换网络：在源节点和目的节点之间建立一条专用通道，将整个报文的比特流传送。最典型的是传统电话网络。</p><ul><li>建立连接（分配通信资源）</li><li>通话（一直占用通信资源，其余的不能进行）</li><li>释放连接（归还通信资源）</li></ul><p>报文交换网络：用户数据与源地址、目的地址、校验码等一同封装成报文，由相邻节点存储转发，直到到达目的节点。也叫”存储-转发网络”。</p><p>分组交换网络：将数据分成固定长度的块，每块加上源地址、目的地址等辅助信息组成分组，由相邻节点存储转发，也叫”包交换网络”。</p><ul><li>发送方:构造分组，发送分组</li><li>路由器:缓存分组，转发分组</li><li>接收方:接受分组，还原报文</li></ul><p><img src="/img.png" alt="img.png"></p><h2 id="计算机网络分类"><a href="#计算机网络分类" class="headerlink" title="计算机网络分类"></a>计算机网络分类</h2><p><img src="/img_1.png" alt="img_1.png"></p><h2 id="计算机网络性能指标"><a href="#计算机网络性能指标" class="headerlink" title="计算机网络性能指标"></a>计算机网络性能指标</h2><blockquote><p>前提知识:比特。计算机中数据量的单位。</p><p>常见的数据量单位:</p><p>8bit &#x3D; 1Byte</p><p>KB &#x3D; 2^10Byte</p><p>MB &#x3D; 2^20Byte</p><p>GB &#x3D; 2^30Byte</p><p>TB &#x3D; 2^40Byte</p></blockquote><p>速率：连接到计算机网络上的主机在数字信道上传送数据的速率，也称数据率或者比特率，单位是 b&#x2F;s (比特&#x2F;秒)。<br><img src="/img_2.png" alt="img_2.png"></p><p>带宽：最高数据率,发送速率，单位是 b&#x2F;s (比特&#x2F;秒)。注意与通信线路的带宽区分，后者表示允许通过的信号频带范围，单位为赫兹。</p><p>吞吐量：单位时间内通过某网络的数据量，受网络带宽或网络额定速率的限制。</p><p>时延，分为四部分：</p><ul><li><p>发送时延：从发送分组的第一个比特到最后一个比特所用的时间，也叫传输时延。</p><p>发送时延&#x3D;分组长度&#x2F;信道宽度（带宽）</p></li><li><p>传播时延：电磁波在信道中传播一定的距离所需的时间。</p><p>传播时延&#x3D;信道长度&#x2F;光速:3*10^8m&#x2F;s</p></li><li><p>处理时延：主机收到分组后，为处理分组所需的时间。</p></li><li><p>排队时延：分组在路由器的输入队列和输出队列</p><p>时延&#x3D;发送时延+传播时延+处理时延+排队时延</p></li></ul><p>例题:<br><img src="/img_3.png" alt="img_3.png"><br>往返时间</p><p>时延带宽积</p><p>丢包率</p><p>利用率</p><h1 id="网络体系"><a href="#网络体系" class="headerlink" title="网络体系"></a>网络体系</h1><h2 id="网络体系分层"><a href="#网络体系分层" class="headerlink" title="网络体系分层"></a>网络体系分层</h2><p><a href="https://pic.leetcode-cn.com/1612150605-NindRH-image.png">https://pic.leetcode-cn.com/1612150605-NindRH-image.png</a><br>Ip是最核心的部分</p><h3 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h3><p>主要任务：在物理媒介上实现比特流的透明传输。</p><p>🌸 注意：透明传输指的是不管所传数据是什么样的比特流组合，都能够在链路上传送，不会引起接收端误会。因为如果有某段比特组合恰好和某控制信息完全一样时，接收端会造成误会，以为它是某控制信息，此时就需要采取某种措施消除误会，保证透明传输。</p><blockquote><p>注意：物理媒介不属于物理层协议内部，有些人把物理媒体当作第0层，包括双绞线、同轴电缆、无线信道等等。</p></blockquote><h3 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h3><p>主要任务：把网络层传来的 IP 数据报组装成帧。传输单位：帧；</p><h3 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h3><p>主要任务：为分组交换网上的不同主机提供通信服务。传输单位：数据报；</p><p>典型协议:IP，IPX，ICMP，IGMP，ARP，RARP，OSPF等</p><h3 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h3><p>主要任务：提供端到端的通信，传输单位：报文段；</p><p>典型协议:TCP，UDP等</p><h3 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h3><p>主要任务：为应用程序提供网络服务，与用户的应用界面。</p><p>典型协议:HTTP，FTP，DNS等</p><p>谐音记忆法，“物联（链）网淑（输）惠（会）试（示）用”，淑慧小姐姐在试用物联网。</p><h2 id="网络体系分层的必要性"><a href="#网络体系分层的必要性" class="headerlink" title="网络体系分层的必要性"></a>网络体系分层的必要性</h2><p>就是通过将多个问题拆分为多个子问题来进行解决。<br>![img_4.png](img_4.png</p><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p><img src="/img_5.png" alt="img_5.png"></p><h2 id="专业术语"><a href="#专业术语" class="headerlink" title="专业术语"></a>专业术语</h2><p>实体,协议,服务</p><h3 id="实体"><a href="#实体" class="headerlink" title="实体"></a>实体</h3><p>实体:任何可发送或者接受信息的硬件或者软件进程。</p><p>对等实体:收发双方相同的实体。<br><img src="/img_6.png" alt="img_6.png"></p><h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><p>概念:控制两个对等实体进行逻辑对话的规则的集合。<br><img src="/img_7.png" alt="img_7.png"><br>这种通信是我们假设出来的通信</p><p>协议三要素:语法、语义、同步</p><h3 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h3><p>概念：在协议的控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供服务。</p><p>协议是水平的，服务是垂直的。</p><p>实体能够看得到相邻下层所提供的服务，但并不知道实现该服务的具体协议。(就相当于你享受使用手机提供的服务，但不必知道手机的工作原理)<br><img src="/img_8.png" alt="img_8.png"></p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>服务访问点︰在同一系统中相邻两层的实体交换信息的逻辑接口，用于区分不同的服务类型。</p><ul><li>数据链路层的服务访问点为帧的“类型”字段。</li><li>数据链路层的服务访问点为帧的“类型”字段。</li><li>数据链路层的服务访问点为帧的“类型”字段。数据链路层的服务访问点为帧的“类型”字段。</li></ul><p>服务原语:上层与下层交换一些信息必须与下层交换一些命令。</p><p><img src="/img_9.png" alt="img_9.png"></p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面试01-三件套篇</title>
      <link href="/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/HTML+CSS/html%E5%92%8Ccss/"/>
      <url>/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/HTML+CSS/html%E5%92%8Ccss/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1>]]></content>
      
      
      <categories>
          
          <category> 前端面试个人学习 </category>
          
          <category> HTML+CSS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络.md</title>
      <link href="/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/"/>
      <url>/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 前端面试个人学习 </category>
          
          <category> 计算机网络.md </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ES6</title>
      <link href="/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/JS/ES6/ES6/"/>
      <url>/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/JS/ES6/ES6/</url>
      
        <content type="html"><![CDATA[<h1 id="let-和-const"><a href="#let-和-const" class="headerlink" title="let 和 const"></a>let 和 const</h1><ol><li>块级作用域</li><li>暂时性死局<br>在let命令声明变量tmp之前，都属于变量tmp的“死区”。<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typeof</span> x; <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> x;</span><br><span class="line"><span class="comment">//一个变量没有被声明,那么就不会报错</span></span><br><span class="line"><span class="keyword">typeof</span> undeclared_variable <span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>这样的设计是为了让大家养成良好的编程习惯，变量一定要在声明之后使用，否则就报错。<br><code>使用let声明变量时，只要变量在还没有声明完成前使用，就会报错。</code></li><li>不存在变量提升</li><li>不允许重复声明</li><li>块级作用域</li></ol><p>const</p><p>const实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。不可变的只是这个地址，即不能把foo指向另一个地址，但对象本身是可变的，所以依然可以为其添加新属性。</p><h1 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h1><ol><li>总体的形式就是说左边的形式和右边的形式一样的话，就能给左边的变量进行上赋值。</li><li>支持默认值</li><li>支持数组也支持对象</li><li>当没有该变量的时候，会返回undefined</li><li>对象的话还可以给他们起别名<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//也就是说，对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">baz <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line">foo <span class="comment">// error: foo is not defined</span></span><br><span class="line"><span class="comment">//复杂的解构例子</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">p</span>: [</span><br><span class="line">        <span class="string">&#x27;Hello&#x27;</span>,</span><br><span class="line">        &#123; <span class="attr">y</span>: <span class="string">&#x27;World&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; p, <span class="attr">p</span>: [x, &#123; y &#125;] &#125; = obj;</span><br><span class="line">x <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line">y <span class="comment">// &quot;World&quot;</span></span><br><span class="line">p <span class="comment">// [&quot;Hello&quot;, &#123;y: &quot;World&quot;&#125;]</span></span><br></pre></td></tr></table></figure></li><li>解构还可以解构继承的属性<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span> &#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(obj1, obj2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; foo &#125; = obj1;</span><br><span class="line">foo <span class="comment">// &quot;bar&quot;</span></span><br></pre></td></tr></table></figure></li><li>字符串也能解构</li><li>数值和布尔值要解构的话需要先转化为对象，null和undefined不能解构。</li><li>函数参数的解构</li><li>应用场景<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.交换变量的值</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">[x, y] = [y, x];</span><br><span class="line"><span class="comment">//2.函数参数的默认值</span></span><br><span class="line"><span class="comment">//3.遍历 Map 结构</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;world&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key + <span class="string">&quot; is &quot;</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// first is hello</span></span><br><span class="line"><span class="comment">// second is world</span></span><br><span class="line"><span class="comment">// 获取键名</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key] <span class="keyword">of</span> map) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取键值</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [,value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="字符串拓展"><a href="#字符串拓展" class="headerlink" title="字符串拓展"></a>字符串拓展</h1><ol><li>模板字符串</li><li>标签模板<br>标签模板其实不是模板，而是函数调用的一种特殊形式。“标签”指的就是函数，紧跟在后面的模板字符串就是它的参数<br>但是，如果模板字符里面有变量，就不是简单的调用了，而是会将模板字符串先处理成多个参数，再调用函数。   <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">tag<span class="string">`Hello <span class="subst">$&#123; a + b &#125;</span> world <span class="subst">$&#123; a * b &#125;</span>`</span>;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="title function_">tag</span>([<span class="string">&#x27;Hello &#x27;</span>, <span class="string">&#x27; world &#x27;</span>, <span class="string">&#x27;&#x27;</span>], <span class="number">15</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tag</span>(<span class="params">stringArr, value1, value2</span>)&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tag</span>(<span class="params">stringArr, ...values</span>)&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>应用场景<br>多语言、敏感词过滤、国际化的i18n实现<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">i18n<span class="string">`Welcome to <span class="subst">$&#123;siteName&#125;</span>, you are visitor number <span class="subst">$&#123;visitorNumber&#125;</span>!`</span></span><br><span class="line"><span class="comment">// &quot;欢迎访问xxx，您是第xxxx位访问者！&quot;</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="字符串新增方法"><a href="#字符串新增方法" class="headerlink" title="字符串新增方法"></a>字符串新增方法</h1><ol><li>String.raw()</li><li>includes(), startsWith(), endsWith()</li><li>repeat()</li><li>replaceAll() </li><li>at() <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">str.<span class="title function_">at</span>(<span class="number">1</span>) <span class="comment">// &quot;e&quot;</span></span><br><span class="line">str.<span class="title function_">at</span>(-<span class="number">1</span>) <span class="comment">// &quot;o&quot;</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="函数的拓展"><a href="#函数的拓展" class="headerlink" title="函数的拓展"></a>函数的拓展</h1><ol><li>函数参数的默认值<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   <span class="comment">//默认值为惰性的，每次都重新计算表达式的值。</span></span><br><span class="line">   <span class="keyword">let</span> x = <span class="number">99</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">p = x + <span class="number">1</span></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line">x = <span class="number">100</span>;</span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// 101</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">&#123; a, b = <span class="string">&#x27;world&#x27;</span> &#125; = &#123; a: <span class="string">&#x27;hello&#x27;</span> &#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f</span>() <span class="comment">// world</span></span><br><span class="line"><span class="comment">//2。如果传入undefined，将触发该参数等于默认值，null则没有这个效果。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x = <span class="number">5</span>, y = <span class="number">6</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x, y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(<span class="literal">undefined</span>, <span class="literal">null</span>)</span><br><span class="line"><span class="comment">// 5 null</span></span><br></pre></td></tr></table></figure></li><li>函数的length属性<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 指定了默认值以后，函数的length属性，将返回没有指定默认值的参数个数。也就是说，指定了默认值后，length属性将失真。</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params">a</span>) &#123;&#125;).<span class="property">length</span> <span class="comment">// 1</span></span><br><span class="line">    (<span class="keyword">function</span> (<span class="params">a = <span class="number">5</span></span>) &#123;&#125;).<span class="property">length</span> <span class="comment">// 0</span></span><br><span class="line">    (<span class="keyword">function</span> (<span class="params">a, b, c = <span class="number">5</span></span>) &#123;&#125;).<span class="property">length</span> <span class="comment">// 2</span></span><br><span class="line"><span class="comment">//不包括rest长度</span></span><br></pre></td></tr></table></figure></li><li>作用域<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x, y = <span class="keyword">function</span>() &#123; x = <span class="number">2</span>; &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">3</span>;</span><br><span class="line">  <span class="title function_">y</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// 3</span></span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------------------------------------------------------</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x, y = <span class="keyword">function</span>() &#123; x = <span class="number">2</span>; &#125;</span>) &#123;</span><br><span class="line">    x = <span class="number">3</span>;</span><br><span class="line">    <span class="title function_">y</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// 2</span></span><br><span class="line">x <span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li><li>rest参数取代arguments参数</li><li>name属性<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line">f.<span class="property">name</span> <span class="comment">// &quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line">f.<span class="property">name</span> <span class="comment">// &quot;f&quot;</span></span><br><span class="line"><span class="comment">// Function构造函数返回的函数实例，name属性的值为anonymous</span></span><br><span class="line"><span class="comment">//bind返回的函数，name属性值会加上bound前缀</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line">foo.<span class="title function_">bind</span>(&#123;&#125;).<span class="property">name</span> <span class="comment">// &quot;bound foo&quot;</span></span><br><span class="line">    (<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;).<span class="title function_">bind</span>(&#123;&#125;).<span class="property">name</span> <span class="comment">// &quot;bound &quot;</span></span><br></pre></td></tr></table></figure></li><li>箭头函数<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// （1）箭头函数没有自己的this对象（详见下文）。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// （2）不可以当作构造函数，也就是说，不可以对箭头函数使用new命令，否则会抛出一个错误。</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// （3）不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。</span></span><br><span class="line"><span class="keyword">var</span> handler = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">init</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,</span><br><span class="line">            <span class="function"><span class="params">event</span> =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">doSomething</span>(event.<span class="property">type</span>), <span class="literal">false</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">doSomething</span>: <span class="keyword">function</span>(<span class="params">type</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Handling &#x27;</span> + type  + <span class="string">&#x27; for &#x27;</span> + <span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不适合的场景</span></span><br><span class="line"><span class="comment">//第一个场合是定义对象的方法，且该方法内部包括this。</span></span><br><span class="line">globalThis.<span class="property">s</span> = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">s</span>: <span class="number">42</span>,</span><br><span class="line">    <span class="attr">m</span>: <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">s</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">m</span>() <span class="comment">// 21</span></span><br><span class="line"><span class="comment">//2. 第二个场合是需要动态this的时候，也不应使用箭头函数。</span></span><br><span class="line"><span class="keyword">var</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;press&#x27;</span>);</span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;on&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端面试个人学习 </category>
          
          <category> JS </category>
          
          <category> ES6 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JS基础</title>
      <link href="/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/JS/JavaScript%E5%9F%BA%E7%A1%80/JS%E5%9F%BA%E7%A1%80/"/>
      <url>/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/JS/JavaScript%E5%9F%BA%E7%A1%80/JS%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="let、const和var的区别"><a href="#let、const和var的区别" class="headerlink" title="let、const和var的区别"></a>let、const和var的区别</h1><p>let和var本质上都是为了声明变量的，但是var声明变量的时候会出现变量提升，而let声明变量的时候不会出现变量提升。const就是声明常量的。</p><p>const声明的为常量，所以这个值是不能改变了，js引用类型分为值引用和地址引用，对于值引用，const声明的变量，值不能改变，但是地址引用，const声明的变量，地址不能改变，但是值可以</p><h1 id="内置类型"><a href="#内置类型" class="headerlink" title="内置类型"></a>内置类型</h1><p>7种基本类型：null，undefined，boolean，number，string，symbol，bigint</p><h2 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h2><blockquote><p>返回一个值的数据类型:number、undefined、boolean、string、symbol、object、function</p></blockquote><p><strong>注意</strong>:undefined 和没有用 var 声明的变量，用<code>typeof返回的是undefined</code></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x</span><br><span class="line"><span class="keyword">typeof</span> x</span><br><span class="line"><span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure><p>其余的返回object</p><p> <strong>注意</strong>:<br> null的返回值是object，这是由于历史原因造成的，1995年JavaScript语言的第一版，所有值都设计成32位，其中最低的3位用来表述数据类型，object对应的值是000。当时，只设计了五种数据类型（对象、整数、浮点数、字符串和布尔值），完全没考虑null，只把它当作object的一种特殊值，32位全部为0。这是typeof null返回object的根本原因。 为了兼容以前的代码，后来就没法修改了。这并不是说null就属于对象，本质上null是一个类似于undefined的特殊值。</p><h2 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h2><p><strong>NaN的特殊</strong>:</p><p><strong>1.NaN 的typeof 的类型是 number;</strong></p><p><strong>2.NaN 转成数字类型是 NaN ;</strong></p><p>3.NaN 转成布尔类型是 false;</p><p>4.NaN 转成字符串是 NaN ;</p><p><strong>5.NaN &#x3D;&#x3D; NaN &#x3D;&gt;false ;</strong></p><p>6.NaN &#x3D;&#x3D;&#x3D;NaN &#x3D;&gt;false;</p><p>7.0&#x2F;0 &#x3D; NaN</p><p>8.任何数+NAN&#x3D;NAN</p><h2 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h2><p><strong>undefined特殊</strong>:</p><p><strong>1.undefined 的typeof 的类型是 undefiend;</strong></p><p><strong>2.undefined 转成数字类型为 NaN;</strong></p><p>3.undefined 转为布尔类型是 false;</p><p>4.undefined 转为字符串类型是 undefined ;</p><p><strong>5.null &#x3D;&#x3D; undefined &#x3D;&gt; true;</strong></p><h2 id="null"><a href="#null" class="headerlink" title="null"></a>null</h2><p><strong>null的特殊之处</strong>:</p><p><strong>1.null 的typeof 的类型是 object;</strong></p><p><strong>2.null 转成数字类型为 0;</strong></p><p>3.null 转为布尔类型是 false;</p><p>4.null 转为字符串类型是 null ;</p><p>5.null 和 任何非 null 都不相等;(但和undefined相等)</p><p><strong>6.null &#x3D;&#x3D; undefined &#x3D;&gt;true;</strong></p><h2 id="symbol"><a href="#symbol" class="headerlink" title="symbol"></a>symbol</h2><blockquote><p>是ES6新增的，用来创建私有变量的，避免冲突的。</p></blockquote><h1 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h1><p>字符实体:<code>&amp;nbsp;</code>、<code>&amp;lt;</code>、<code>&amp;gt;</code>、<code>&amp;quot；</code>、<code>&amp;copy;</code>、<code>&amp;reg;</code></p><p>常用的转义符:<code>\b</code>:退格、<code>\f</code>:走纸换页、<code>\n</code>、<code>\r</code>、<code>\t</code></p><h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="基本运算符"><a href="#基本运算符" class="headerlink" title="基本运算符"></a>基本运算符</h2><p>+-*&#x2F;</p><p>两个数组相加，则会触发类型转换: 将值转换为原始值，转换为数字，转换为字符串。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>] + [<span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="comment">// [1, 2].toString() -&gt; &#x27;1,2&#x27;</span></span><br><span class="line"><span class="comment">// [2, 1].toString() -&gt; &#x27;2,1&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;1,2&#x27; + &#x27;2,1&#x27; = &#x27;1,22,1&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="和-的区别"><a href="#和-的区别" class="headerlink" title="&#x3D;&#x3D;和&#x3D;&#x3D;&#x3D;的区别"></a>&#x3D;&#x3D;和&#x3D;&#x3D;&#x3D;的区别</h2><p>&#x3D;&#x3D;运算符<br>如果比较的俩个数据的类型不同,他们都要想办法转成数字;</p><p>如果一边是对象,一边是基本类型:</p><ol><li>首先调用这个对象的valueOf(),看这个方法的返回值是否是基本类型</li></ol><p>如果是基本类型,则用这个返回值和另一边相比;</p><ol start="2"><li>如果返回的不是基本类型,调用toString(),使用这个方法的返回字符串和另一边比较</li></ol><p>字符串 : 字符串里有数字的转换为数字;只要有一个非数字,就是NaN;</p><p><strong>对象与对象</strong>比较,****不管是&#x3D;&#x3D;还是&#x3D;&#x3D;&#x3D;,**比较的是俩个对象的地址值是否相等,</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">如:<span class="keyword">var</span> a = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// alert(a==b) =&gt;false;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="params">undefined</span>=&gt;</span>转成数字=&gt;<span class="title class_">NaN</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// null=&gt; 转成数字 =&gt; 0;</span></span><br></pre></td></tr></table></figure><p><strong>特殊</strong>:</p><ol><li><p>null虽然转成数字是0,但他和其他的任何非 null 都不相等</p></li><li><p>NaN !&#x3D;NaN ;</p></li><li><p>null和undefined是相等的;</p></li></ol><p>&#x3D;&#x3D;&#x3D;运算符:</p><ol><li><p>先看类型,如果类型不同,直接false。</p></li><li><p>如果类型相同,再比较内容;</p></li></ol><h2 id="一些其他的不会的点-拓展"><a href="#一些其他的不会的点-拓展" class="headerlink" title="一些其他的不会的点(拓展)"></a>一些其他的不会的点(拓展)</h2><h3 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf()"></a>valueOf()</h3><p>JavaScript 调用 valueOf 方法来将对象转换成基本类型值。你很少需要自己调用 valueOf 方法；当遇到需要基本类型值的对象时，JavaScript 会自动的调用该方法。</p><p>强制数字类型转换和强制基本类型转换优先会调用该方法，而强制字符串转换会优先调用 toString()，并且 toString() 很可能返回字符串值（甚至对于 Object.prototype.toString() 基本实现也是如此），因此在这种情况下不会调用 valueOf()。</p><p>从 Object.prototype 继承的所有对象（即，除了null 原型对象之外的所有对象）都继承了 toString() 方法。Object.prototype.valueOf() 的基本实现被有意设计为无用的：返回一个对象；<strong>其返回值将永远不会被任何基本类型转换算法使用。许多内置对象重写此方法以返回适当的基本类型值</strong> 。<strong>创建自定义对象时，可以重写 valueOf() 来调用自定义方法，以便将自定义对象转换为基本类型值</strong>。通常，valueOf() 用于返回对对象具有意义的值——与 toString() 不同，它不需要字符串。或者，你可以添加一个 @@toPrimitive 方法，该方法允许对转换过程进行更多控制，并且对于任何类型的转换，始终优先于 valueOf 或 toString。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//重写valueOf</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Box</span> &#123;</span><br><span class="line">  #value;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.#value = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">valueOf</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.#value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> box = <span class="keyword">new</span> <span class="title class_">Box</span>(<span class="number">123</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(box + <span class="number">456</span>); <span class="comment">// 579</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(box == <span class="number">123</span>); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>自己编写一个类对象，来进行对里面的方法来进行重写。</p><h1 id="数组的常用方法"><a href="#数组的常用方法" class="headerlink" title="数组的常用方法"></a>数组的常用方法</h1><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array">不会的看这里，数组最全面的</a></p><p><code>entries</code></p><p><code>Array.prototype.fill()</code></p><p><code>Array.from()</code></p><p><code>Array.prototype.reduce()</code></p><p><code>Array.prototype.sort()</code></p><h1 id="对象常见的方法"><a href="#对象常见的方法" class="headerlink" title="对象常见的方法"></a>对象常见的方法</h1><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object">里面的对象的方法比较全</a></p><p><code>Object.assign()</code>相当于…</p><p><code>Object.create()</code>使用它来实现类继承</p><p><code>Object.defineProperty()</code></p><p><code>Object.entries()</code></p><p><code>Object.groupBy()</code>:还在实验中</p><p><code>Object.hasOwn()</code>如果指定的对象自身有指定的属性，则静态方法 Object.hasOwn() 返回 true。如果属性是继承的或者不存在，该方法返回 false。</p><p><code>Object.is()</code></p><p><code>Object.keys()</code></p><p><code>Object.values()</code></p><h1 id="函数基础"><a href="#函数基础" class="headerlink" title="函数基础"></a>函数基础</h1><h1 id="正则运算"><a href="#正则运算" class="headerlink" title="正则运算"></a>正则运算</h1><h2 id="正则作用"><a href="#正则作用" class="headerlink" title="正则作用"></a>正则作用</h2><p>作用:<br>提高用户体验<br>减轻服务器的压力</p><h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><h2 id="mouseover和mouseenter的区别"><a href="#mouseover和mouseenter的区别" class="headerlink" title="mouseover和mouseenter的区别"></a>mouseover和mouseenter的区别</h2><p>这两者都是移入的时候触发，但是 onmouseover 会触发多次，而 onmouseenter 只在进去的时候才触发。</p><h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><h2 id="本地存储"><a href="#本地存储" class="headerlink" title="本地存储"></a>本地存储</h2><p>localStorage和sessionStorage</p><h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2>]]></content>
      
      
      <categories>
          
          <category> 前端面试个人学习 </category>
          
          <category> JS </category>
          
          <category> JavaScript基础 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>数据双向绑定</title>
      <link href="/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/Vue/Vue%E6%BA%90%E7%A0%81/%E5%8F%98%E5%8C%96%E4%BE%A6%E6%B5%8B(%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A)/"/>
      <url>/2023/01/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AA%E4%BA%BA%E5%AD%A6%E4%B9%A0/Vue/Vue%E6%BA%90%E7%A0%81/%E5%8F%98%E5%8C%96%E4%BE%A6%E6%B5%8B(%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A)/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>Vue最大的特点之一就是数据驱动视图,数据就是状态,视图就是我们的页面,当数据发生了变化(即状态发生了改变),其中的页面也会动态的发生改变。</p><h2 id="什么是变化侦测"><a href="#什么是变化侦测" class="headerlink" title="什么是变化侦测"></a>什么是变化侦测</h2><p>Vue是怎样知道状态发生了改变，所以需要实现Vue追踪状态的变化。<br>在React是通过对比虚拟DOM来实现变化侦测。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>总之，就是要知道数据什么时候发生变化,捕捉数据变化很重要。</p><h1 id="Vue3实现双向绑定"><a href="#Vue3实现双向绑定" class="headerlink" title="Vue3实现双向绑定"></a>Vue3实现双向绑定</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><blockquote><p>Vue3实现双向绑定是通过Proxy来实现。</p></blockquote><h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><h4 id="Proxy基础"><a href="#Proxy基础" class="headerlink" title="Proxy基础"></a>Proxy基础</h4><p>什么是Proxy?</p><p>Proxy 对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等）。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, handler)</span><br></pre></td></tr></table></figure><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy更多内容</a></p><p>然后Vue3通过Proxy的handler.get()和handler.set()来实现数据的双向绑定。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// handler.get()方法</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params">target, property, receiver</span>) &#123;&#125;,</span><br><span class="line">    <span class="comment">// target:为目标对象</span></span><br><span class="line">    <span class="comment">//property:为被捕获对象的属性名</span></span><br><span class="line">    <span class="comment">//receiver:为Proxy或者继承Proxy的对象</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// handler.set()方法</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">target, property, value, receiver</span>) &#123;&#125;,</span><br><span class="line">    <span class="comment">// target:为目标对象</span></span><br><span class="line">    <span class="comment">//property:为被捕获对象的属性名</span></span><br><span class="line">    <span class="comment">//value:为设置的值</span></span><br><span class="line">    <span class="comment">//receiver:为Proxy或者继承Proxy的对象</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>example:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  创建响应式数据</span></span><br><span class="line"><span class="comment">  @param [object]:普通对象</span></span><br><span class="line"><span class="comment">  @return [proxy]:代理对象</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="comment">//先判断传入的是否为对象</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">isObject</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>&amp;&amp;obj!==<span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">reactive</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="comment">//先判断是否为对象</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isObject</span>(obj)) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj,&#123;</span><br><span class="line">      <span class="title function_">get</span>(<span class="params">target, p, receiver</span>) &#123;</span><br><span class="line">        <span class="comment">//获取</span></span><br><span class="line">        <span class="keyword">return</span> target[p]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">set</span>(<span class="params">target, p, newValue, receiver</span>) &#123;</span><br><span class="line">        <span class="comment">//进行重新设置</span></span><br><span class="line">        target[p] = newValue</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> state = &#123;<span class="attr">name</span>:<span class="string">&#x27;73483&#x27;</span>&#125;</span><br><span class="line">  <span class="keyword">const</span> p = <span class="title function_">reactive</span>(state)</span><br><span class="line">  p.<span class="property">name</span> = <span class="string">&#x27;woshishei&#x27;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>)</span><br></pre></td></tr></table></figure><h4 id="为什么要用Proxy进行重构"><a href="#为什么要用Proxy进行重构" class="headerlink" title="为什么要用Proxy进行重构"></a>为什么要用Proxy进行重构</h4><p>以前vue2使用的Object.defineProperty()来实现数据的双向绑定，但是Object.defineProperty()有缺陷，比如无法监听数组的变化，无法监听对象</p><blockquote><p>Object.defineProperty() 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回此对象</p></blockquote><p>出现的问题就是当新增一个对象的属性的时候，Object.defineProperty()无法监听到。</p><p>然后我们回到 defineProperty 本身，是对对象上的属性做操作，而非对象本身</p><p>一句话来说就是，在 Observer data 时，新增属性并不存在，自然就不会有 getter, setter，也就解释了为什么新增视图不更新，解决有很多种，Vue 提供的全局$set 本质也是给新增的属性手动 observer</p><p>总结来说:vue2之前的方法无法监听对象的新增属性。</p><p>总结:</p><ol><li><p>Proxy 作为新标准将受到浏览器厂商重点持续的性能优化</p></li><li><p>Proxy 能观察的类型比 defineProperty 更丰富</p></li><li><p>Proxy 不兼容IE，也没有 polyfill, defineProperty 能支持到IE9</p></li><li><p>Object.definedProperty 是劫持对象的属性，新增元素需要再次 definedProperty。而 Proxy 劫持的是整个对象，不需要做特殊处理</p></li><li><p>使用 defineProperty 时，我们修改原来的 obj 对象就可以触发拦截，而使用 proxy，就必须修改代理对象，即 Proxy 的实例才可以触发拦截</p></li></ol><h1 id="响应式系统"><a href="#响应式系统" class="headerlink" title="响应式系统"></a>响应式系统</h1>]]></content>
      
      
      <categories>
          
          <category> 前端面试个人学习 </category>
          
          <category> Vue源码 </category>
          
          <category> Vue </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
